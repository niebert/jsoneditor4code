function cloneJSON(pJSON){var vJSON={};return pJSON?vJSON=JSON.parse(JSON.stringify(pJSON)):console.log("ERROR: cloneJSON(pJSON) - pJSON undefined!"),vJSON}function concat_array(a,b){for(var c=[],i=0;i<a.length;i++)c.push(a[i]);for(var i=0;i<b.length;i++)c.push(b[i]);return c}function value_in_array(pValue,pArray){var ret=-1;if(pArray)for(var i=0;i<pArray.length;i++)pValue==pArray[i]&&(ret=i);else console.log("value_in_array()-Call pArray undefined");return ret}function extendHash(a,b){for(var i in b)a[i]=b[i]}function isHash(pObject){return pObject&&"object"==typeof pObject}function isArray(pObj){return isHash(pObj)&&pObj instanceof Array}function makeMap(str){for(var obj={},items=str.split(","),i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function lengthHash(pHash){var vLength=0;if(isHash(pHash))for(var key in pHash)pHash.hasOwnProperty(key)&&vLength++;return vLength}function getDeleteBoolean4Hash(pHash){for(var vDelHash={},vArrID_OLD=getArray4HashID(pHash),i=0;i<vArrID_OLD.length;i++)vDelHash[vArrID_OLD[i]]=!0;return vDelHash}function updateHash4NewIDs(pHash,pArrID_NEW,pDefaultValue){for(var vDelHash=getDeleteBoolean4Hash(pHash),vDefaultValue=pDefaultValue||"",vArrID_OLD=getArray4HashID(pHash),vID="",i=0;i<pArrID_NEW.length;i++)vID=pArrID_NEW[i],pHash.hasOwnProperty(vID)?vDelHash[vID]=!1:pHash[vID]=""!=vDefaultValue?vDefaultValue+" '"+vID+"'":"";for(var i=0;i<vArrID_OLD.length;i++)vID=vArrID_OLD[i],!0===vDelHash[vID]&&delete pHash[vID]}function updateHashSourceDestination(pSource,pDest){}function renameHashKey(pHash,old_key,new_key){var vErrorMSG="";return isHash(pHash)&&(pHash.hasOwnProperty(new_key)?vErrorMSG="ERROR: Rename Hash Key - New Key already exists":(pHash[new_key]=pHash[old_key],delete pHash[old_key],console.log("Rename hash form '"+old_key+"' to '"+new_key+"'"))),vErrorMSG}function firstKey4Hash(pHash){var vLength=0,vKey="";if(isHash(pHash))for(var key in pHash)if(pHash.hasOwnProperty(key)&&1==++vLength){vKey=key;break}return vKey}function createHash4Array(pArr,pHash){var vHash=pHash||{};if(isArray(pArr))for(var i=0;i<pArr.length;i++)vHash[pArr[i]]=pArr[i];return vHash}function createArray4HashID(pHash){var vArr=[];for(var iID in pHash)pHash.hasOwnProperty(iID)&&vArr.push(iID);return vArr}function isValidJSON(str){try{JSON.parse(str)}catch(e){return!1}return!0}function existsPathJSON(pJSON,pPath){return definedPathJSON(pJSON,pPath)==pPath}function getLastID4PathJSON(pJSON,pPath){var vPathArr=pPath.split("."),vID=vPathArr.pop()||"";return""!=vID&&vID==vID.replace(/[^0-9]/g,"")&&(vID=parseInt(vID)),console.log("getLastID4PathJSON(pJSON,'"+pPath+"')='"+vID+"' Type='"+typeof vID+"'"),vID}function set4PathJSON(pJSON,pPath,pValue){getObject4PathJSON(pJSON,pPath)[getLastID4PathJSON(pJSON,pPath)]=pValue}function get4PathJSON(pJSON,pPath){return getObject4PathJSON(pJSON,pPath)[getLastID4PathJSON(pJSON,pPath)]}function getJSON4Path(pPath){var vPathArr=pPath.split("."),vJSON;if(eval("vJSON="+vPathArr[0]),vJSON)return vPathArr.shift(),pPath=vPathArr.join("."),getObject4PathJSON(pJSON,pPath);alert("getJSON4Path('"+pPath+"') root element of path undefined")}function getObject4PathJSON(pJSON,pPath){for(var vPathArr=pPath.split("."),vID="",x=pJSON,i=0;i<vPathArr.length-1;i++)vID=vPathArr[i].replace(/[^0-9]/g,""),vID=vID==vPathArr[i]?parseInt(vPathArr[i]):vPathArr[i],x=x[ID];return x}function definedPathJSON(pJSON,pPath){for(var vPathArr=pPath.split("."),vExists=!0,x=pJSON,vSep="",vID="",vUndefPath="",vDefinedPath="",k=0,i=0;i<vPathArr.length;i++)vExists?(vID=vPathArr[i].replace(/[^0-9]/g,""),""!=vID&&vID==vPathArr[i]?(k=parseInt(vPathArr[i]),isArray(x)&&k<x.length?k>=0?(vDefinedPath+=vSep+vPathArr[i],vSep="."):(vExists=!1,vUndefPath+=vPathArr[i]):isHash(x)&&x.hasOwnProperty(vPathArr[i])?(vDefinedPath+=vSep+vPathArr[i],vSep="."):(vExists=!1,vUndefPath+=vPathArr[i])):isHash(x)&&x.hasOwnProperty(vPathArr[i])?(vDefinedPath+=vSep+vPathArr[i],vSep="."):(vExists=!1,vUndefPath+=vPathArr[i])):(vUndefPath+=vSep+vPathArr[i],vSep=".");return vDefinedPath}function deleteClass(){vJSONEditor.delete_ask()}function update_editor(pJSON){var vJSON=pJSON||vJSONEditor.getValue();$("#display_filename").html(class2filename(vJSON.data.classname,".json")),vEditNode=null,vJSONEditor&&vJSONEditor.aEditor&&(vEditNode=vJSONEditor.aEditor.getEditor("root.data")),vEditNode?(vJSON.data.hasOwnProperty("reposinfo")&&(vJSON.data.reposinfo.modified=getDateTime()),vEditNode.setValue(vJSON.data)):console.log("Update 'root.data' undefined"),vJSONEditor.setValue(vJSON),update_editor_post(vJSON)}function update_editor_post(pJSON){console.log("CALL: update_editor_post(pJSON) jsoneditor4code.js")}function saver4JSON(pFile){vJSONEditor.saveJSON()}function exporter4Schema(pFilename){vJSONEditor.saveSchema()}function getClassName(pJSON){var vClassName="my_class";return pJSON?pJSON.data?pJSON.data.classname?vClassName=pJSON.data.classname:console.log("ERROR: getClassName(pJSON) pJSON.data.classname undefined"):console.log("ERROR: getClassName(pJSON) pJSON.data undefined"):console.log("ERROR: getClassName(pJSON) pJSON undefined"),vClassName}function exporter4JSON(pFile){var vJSON=vJSONEditor.getValue(),vFile=class2filename(getClassName(vJSON),".json");updateModified(vJSON);var vContent=JSON.stringify(vJSON,null,4);saveFile2HDD(vFile,vContent),console.log("JSON output '"+vFile+"':\n"+vContent)}function updateModified(pJSON){pJSON&&pJSON.reposinfo&&(pJSON.reposinfo.modified=getDateTime(),console.log("reposinfo.modified updated: '"+pJSON.reposinfo.modified+"'"))}function class2filename(pClassName,pExt){var vExt=pExt||"",vFilename=pClassName||"Undefined Class";return vFilename=vFilename.toLowerCase(),vFilename=vFilename.replace(/[^a-z0-9]/g,"_"),(vFilename=vFilename.replace(/_[_]+/g,"_"))+vExt}function loader4JSON(pFileID4DOM){var fileToLoad=document.getElementById(pFileID4DOM).files[0];if(fileToLoad){console.log("loader4JSON() - File '"+fileToLoad.name+"' exists."),$("#display_filename").html(fileToLoad.name);var fileReader=new FileReader;fileReader.onload=function(fileLoadedEvent){var vTextFromFileLoaded=fileLoadedEvent.target.result;try{vJSONEditor.setValue(JSON.parse(vTextFromFileLoaded)),alert("File JSON '"+fileToLoad.name+"' loaded successfully!"),validate_errors()}catch(e){vJSONEditor.setValue([]),alert(e)}},fileReader.readAsText(fileToLoad,"UTF-8")}else alert("File is missing");saveLS(fileToLoad.name)}function getDate(){var vNow=new Date,vMonth=vNow.getMonth()+1;return vNow.getDate()+"."+vMonth+"."+vNow.getFullYear()}function outTime(pNr){var vOut=pNr;return 0==pNr&&(vOut="00"),pNr<10&&(vOut="0"+pNr),vOut}function getDateTime(){var vNow=new Date,vSep="/",vOut=vNow.getFullYear()+vSep+outTime(vNow.getMonth()+1)+vSep+outTime(vNow.getDate());return vOut+=" ",vSep=":",vOut+=vNow.getHours()+vSep+outTime(vNow.getMinutes())+vSep+outTime(vNow.getSeconds())}function getTimeIndex(){return(new Date).getTime()}function saveFile2HDD(pFilename,pContent){var file=new File([pContent],{type:"text/plain;charset=utf-8"});saveAs(file,pFilename)}function clone_json(pJSON){var vJSON={};return pJSON?vJSON=JSON.parse(JSON.stringify(pJSON)):console.log("ERROR: cloneJSON(pJSON) - pJSON undefined!"),vJSON}function value_in_array(pValue,pArray){var ret=-1;if(pArray)for(var i=0;i<pArray.length;i++)pValue==pArray[i]&&(ret=i);else console.log("value_in_array()-Call pArray undefined");return ret}function createHandleBarsCompiler(pDataJSON){for(var tplID in pDataJSON.tpl)pDataJSON.tpl.hasOwnProperty(tplID)&&(pDataJSON.out[tplID]=Handlebars.compile(pDataJSON.tpl[tplID]))}function name2filename(pName){var vFilename=pName.toLowerCase();return vFilename=vFilename.replace(/[^a-z0-9]/g,"_"),vFilename=vFilename.replace(/_[_]+/g,"_")}function paramCallString(pParamArray){for(var ret="",vComma="",i=0,j=pParamArray.length;i<j;i++)ret+=vComma+pParamArray[i].name,vComma=",";return new Handlebars.SafeString(ret)}function paramTypeString(pParamArray){var ret="",vComma="";if(pParamArray)for(var i=0,j=pParamArray.length;i<j;i++)ret+=vComma+pParamArray[i].name+":"+pParamArray[i].class,vComma=",";else console.log("No pParamArray in 'paramcall' helper.");return new Handlebars.SafeString(ret)}function attribs4UMLString(pArray){for(var ret="",vSep="",vVis="-",i=0,j=pArray.length;i<j;i++){switch(pArray[i].visibility){case"public":vVis="+";break;case"public":vVis="-";break;default:vVis="-"}ret+=vSep+" "+vVis+" `"+pArray[i].name," "!=pArray[i].class&&(ret+=NaN+pArray[i].class),vSep="`<br>"}return ret+="`",new Handlebars.SafeString(ret)}function methods4UMLString(pArray){for(var ret="",vSep="",vVis="-",i=0,j=pArray.length;i<j;i++){switch(pArray[i].visibility){case"public":vVis="+";break;case"private":vVis="-";break;default:vVis="-"}ret+=vSep+" "+vVis+" `"+pArray[i].name+"(",ret+=paramTypeString(pArray[i].parameter),ret+=")"," "!=pArray[i].return&&(ret+=":"+pArray[i].return),vSep="`<br>"}return ret+="`",new Handlebars.SafeString(ret)}function parameterListString(pParamArray,pIndent){for(var ret="",vNewLine="",vComment="",i=0,j=pParamArray.length;i<j;i++)ret+=vNewLine+pParamArray[i].name+":"+pParamArray[i].class,vNewLine="\n"+pIndent,""!=(vComment=pParamArray[i].comment)&&(vComment=vComment.replace(/\n/g,vNewLine+"  "),ret+=vNewLine+"  "+vComment);return new Handlebars.SafeString(ret)}function LinkParam(){this.size=0,this.aVars={},this.aLink=""}function JSONEditor4Code(){this.aLinkParam=new LinkParam,this.aDoc=null,this.aJSON={},this.aDefaultJSON={},this.aSchema=null,this.aOptions={editor_id:"editor_holder",validator_id:"valid_indicator",load_file_id:"load_filename",filename_key:"filename",out_json:"tOutJSON",out_code:"tOutput",out_errors:"tErrors"},this.aSettingsBOOL=!1,this.aEditor=null,this.initDoc=function(pDoc){this.aDoc=pDoc},this.initJSON=function(){console.log("Init JSON in JSON Editor"),this.aEditor.setValue(this.aDefaultJSON)},this.loadLinkParam=function(pLSID){var vDataID=pLSID||"jsondata",vJSON=null,vJSONstring="";if(console.log("loadLinkParam('"+vDataID+"')"),this.aLinkParam.exists(vDataID)){console.log("LinkParameter provides '"+vDataID+"'  with value"),vJSONstring=this.aLinkParam.getValue(vDataID);try{vJSON=JSON.parse(vJSONstring)}catch(e){console.log("ERROR (JSON in LinkParam['"+vDataID+"']: "+e),vJSON=null}vJSON&&console.log("LinkParam['"+vDataID+"']: JSON set to this.aJSON:\n"+JSON.stringify(vJSON.settings,null,4))}else console.log("LinkParam['"+vDataID+"'] does not contain data.");return vJSON},this.submit2callback=function(pLink){var vJSONstring=JSON.stringify(this.getValue()),vLink="receiver.html";pLink?vLink=pLink:this.aLinkParam.exists("callback")&&(vLink=this.aLinkParam.getValue("callback"),console.log("Callback defined in LinkParam:\n  "+vLink)),this.aLinkParam.setValue("jsondata",vJSONstring),this.aLinkParam.deleteValue("callback"),document.location.href=vLink+this.aLinkParam.getParam4URL()},this.el=function(pID){return this.aDoc.getElementById(pID)},this.compileCode={},this.getEditor=function(pEditorID){var vEditor=null;return this.aEditor&&(e=this.aEditor.getEditor(pEditorID),e?vEditor=e:console.log("ERROR: JSONEditor4Code.getEditor('"+pEditor+"') - Editor not found!")),vEditor},this.append_classlist=function(pList,pAppendList){if(isArray(pList))if(isArray(pAppendList))if(pAppendList)for(var i=0;i<pAppendList.length;i++)isHash(pAppendList[i])?pAppendList[i].hasOwnProperty("name")?pList.push(pAppendList[i].name):console.log("ERROR: pAppendList[i].name has no 'name' property!"):(pList.push(pAppendList[i]),console.log("WARNING: pAppendList[i] is not a hash with attribute 'name'!"));else console.log("ERROR: append_classlist() - pAppendList is not an array!");else console.log("ERROR: append_classlist() - pList is not an array!")},this.init_definitions=function(){var vJSON=this.aJSON;if(this.aEditor?vJSON=this.aEditor.getValue():console.log("JSONEditor undefined"),console.log("Call: init_definitions() Update Class in Schema - update filename"),this.update_filename(),console.log("HTML-INIT init_definitions(pJSON,pSchema)): vJSON.settings="+JSON.stringify(vJSON.settings,null,4)),vJSON)if(vJSON.settings){var watchclasses=[" "];console.log("Call: init_definitions() ");var cl=vJSON.settings.baseclasslist;console.log("Call: init_definitions() - BaseClassList: "+JSON.stringify(cl,null,4)),this.append_classlist(watchclasses,cl),cl=vJSON.settings.localclasslist,console.log("Call: init_definitions() - LocalClassList: "+JSON.stringify(cl,null,4)),this.append_classlist(watchclasses,cl),console.log("Call: init_definitions() - RemoteClassList: "+JSON.stringify(cl,null,4)),cl=vJSON.settings.remoteclasslist,this.append_classlist(watchclasses,cl),watchclasses.sort(),console.log("Call: init_definitions() - watchclasses=('"+watchclasses.join("','")+"')"),this.aSchema.definitions.selectorclass.enum=watchclasses}else console.log("WARNING: src/exportmod.js - init_definitions() - vJSON.settings undefined!"),alert("WARNING: src/exportmod.js - init_definitions() - vJSON.settings undefined!");else console.log("WARNING: src/exportmod.js - init_definitions() - vJSON undefined!"),alert("WARNING: src/exportmod.js - init_definitions() - vJSON undefined!")},this.init=function(pJSON,pDefaultJSON,pSchema,pTemplates,pOptions){this.aLinkParam.init(this.aDoc);var vJSON=pDefaultJSON,vJSON4LinkParam=this.loadLinkParam("jsondata");vJSON4LinkParam?(console.log("CALL: JSONEditor4Code.init() - init with LinkParam JSON data"),vJSON=vJSON4LinkParam):pJSON?(console.log("CALL: JSONEditor4Code.init() - use init data in pJSON for JSON editor"),vJSON=pJSON):(console.log("CALL: JSONEditor4Code.init() - use default data in pDefaultJSON - also used by init_ask() method."),pDefaultJSON&&(vJSON=pDefaultJSON,console.log("pDefautJSON defined in JSONEditor4Code.init()")),console.error("WARNING: pDefautJSON undefined - use an empty JSON"),vJSON={data:{},settings:{}}),this.aJSON=vJSON,console.log("HTML-INIT init_definitions(pJSON,pSchema)): "+JSON.stringify(vJSON,null,4)),this.aDefaultJSON=pDefaultJSON,this.aOptions=pOptions,this.aTemplates=pTemplates,this.aSchema=pSchema,console.log("HTML-INIT (1) JSONEditor4Code.init(...)): vJSON.settings="+JSON.stringify(vJSON.settings,null,4)),this.init_definitions();for(var iKey in pOptions)pOptions.hasOwnProperty(iKey)&&(this.aOptions[iKey]=pOptions[iKey]);this.create_compiler4tpl(),this.create_editor(),this.aDoc.JSONEditor=JSONEditor,this.update_filename()},this.create_compiler4tpl=function(){var vTemplate=" ";for(var tplID in this.aTemplates)this.aTemplates.hasOwnProperty(tplID)&&(console.log("Compile Template ["+tplID+"]"),vTemplate=this.aTemplates[tplID],this.compileCode[tplID]=Handlebars.compile(vTemplate))},this.create_editor=function(pJSON){pJSON&&(this.aJSON=pJSON),this.aEditor?(this.aEditor.destroy(),console.log("Destroy JSONEditor in JSONEditor4Code")):console.log("REMARK: instance of JSON Editor does not exist!"),console.log("CALL: create_editor() - create a new JSONEditor() in JSONEditor4Code"),console.log("Start Editor with JSON:\n"+JSON.stringify(this.aJSON,null,3));var vEditorNode=this.el(this.aOptions.editor_id);vEditorNode?console.log("CALL: Editor Node cleaned innerHTML"):console.log("CALL: Editor Node does not exist!"),this.aEditor=new JSONEditor(vEditorNode,{ajax:!0,schema:this.aSchema,startval:this.aJSON,no_additional_properties:!0,required_by_default:!0}),this.parent_editor=this,this.init_buttons(),this.init_watch(),this.update_filename(),this.update_modified(),this.saveLS("jsondata"),this.aDoc.JSONEditor=JSONEditor},this.init_ask=function(){1==confirm("Do you really want to initialize the UML-class '"+getClassName(this.aJSON)+"'?")?(1==confirm("Do you want to save the current UML-class '"+getClassName(this.aJSON)+"' first?")?(this.saveJSON(),console.log("JSON-DB initalized with UML class '"+getClassName(this.aJSON)+"'!")):console.log("JSON-DB for UML class '"+getClassName(this.aJSON)+"' not saved - data deleted!"),console.log("JSON-DB for UML class '"+getClassName(this.aJSON)+"' not saved - data deleted!"),this.aEditor.setValue(this.aDefaultJSON)):console.log("initialize JSON-DB cancelled")},this.delete_ask=function(){if(1==confirm("Do you want to delete all data?")){1==confirm("Do you want to save the current UML-class '"+getClassName(this.aJSON)+"' first?")?(this.saveJSON(),console.log("JSON-DB initalized with UML class '"+getClassName(this.aJSON)+"'!")):console.log("JSON-DB for UML class '"+getClassName(this.aJSON)+"' not saved - data deleted!");var vEmptyJSON={data:{classname:"MyClass"},settings:this.aJSON.settings||{}};this.aEditor.setValue(vEmptyJSON),localStorage.clear(),console.log("JSON-DB deleted'!")}else console.log("initialize JSON-DB cancelled")},this.showEditor=function(pEditorID,pBoolean){var self=this.getEditor(pEditorID);self?1==pBoolean?(self.editor_holder.style.display="",self.collapsed=!1,self.setButtonText(self.toggle_button,"","collapse",self.translate("button_collapse"))):(self.editor_holder.style.display="none",self.collapsed=!0,self.setButtonText(self.toggle_button,"","expand",self.translate("button_expand"))):console.log("ERROR: showEditor('"+pEditor+"',pBoolean) Editor for ['"+pEditorID+"'] not found")},this.toggleSettings=function(pSettingsID,pDataID){this.update_modified(),this.init_definitions();var vJSON=this.aEditor.getValue();this.create_editor(vJSON),console.log("CALL: this.create_editor() in toggleSettings('"+pSettingsID+"','"+pDataID+"')"),0==this.aSettingsBOOL?(alert("JSON-Editor: Show Settings"),this.showEditor(pSettingsID,!0),this.showEditor(pDataID,!1)):(alert("JSON-Editor: Hide Settings"),this.showEditor(pSettingsID,!1),this.showEditor(pDataID,!0)),this.aSettingsBOOL=!this.aSettingsBOOL},this.toggleEnable=function(){this.aEditor.isEnabled()?this.aEditor.disable():this.aEditor.enable()},this.enable=function(pID){pID?this.aEditor.getEditor(pID).enable():this.aEditor.enable()},this.disable=function(pID){pID?this.aEditor.getEditor(pID).disable():this.aEditor.disable()},this.init_buttons=function(){var vThis=this;this.set_button_click("submit",function(){var vContent=JSON.stringify(vThis.aEditor.getValue(),null,4);vThis.el("tJSON"),console.log("JSON Data:\n"+vContent)}),this.set_button_click("enable_disable",function(){vThis.aEditor&&(vThis.aEditor.isEnabled()?vThis.aEditor.disable():vThis.aEditor.enable())})},this.init_watch=function(){console.log("CALL: init_watch() ");this.aEditor||console.log("aEditor not defined in init_watch()-call")},this.start_watch=function(){var vThis=this;this.aEditor&&(console.log("start_watch()-call"),this.aEditor.on("change",function(){vThis.validate_errors(),vThis.update_filename(),vThis.update_modified()}))},this.stop_watch=function(){console.log("stop_watch()-call"),this.aEditor&&this.aEditor.on("change",function(){})},this.el=function(pID){return this.aDoc.getElementById(pID)},this.set_button_click=function(pID,pFunction){var vNode=this.el(pID);vNode?vNode.addEventListener("click",pFunction):console.log("DOM node ["+pID+"] does not exist. Could not assign")},this.update=function(){alert("update Schema changes for the JSONEditor4Code"),this.create_editor()},this.getValue=function(){var vJSON=this.aJSON;return this.aEditor?vJSON=this.aEditor.getValue():console.log("this.aEditor undefined in JSONEditor4Code.getValue()"),vJSON},this.setValue=function(pJSON){this.aJSON=pJSON,this.aEditor?(this.aEditor.setValue(pJSON),console.log("setValue() executed!\n"+JSON.stringify(pJSON,null,4))):console.log("this.aEditor undefined in JSONEditor4Code.setValue(pJSON)")},this.update_filename=function(){if(this.aOptions.hasOwnProperty("filename_key")){var vNode=this.el(this.aOptions.filename_id),vJSON=this.aJSON;vNode&&(this.aEditor?(console.log("CALL: update_filename() - use vJSON = this.aEditor.getValue()!"),vJSON=this.aEditor.getValue()):console.log("CALL: update_filename() - this.aEditor not defined!"));var vDOMID=this.aOptions.filename_id;this.el(vDOMID)?vJSON.data?vJSON.data.hasOwnProperty("classname")?(console.log("CALL: update_filename('"+vJSON.data.classname+"') - Name of class was updated in DOM node ["+vDOMID+"]!"),vNode.innerHTML=class2filename(vJSON.data.classname)+vJSON.settings.extension4code):console.log("WARNING: update_filename() - Attribute 'classname' in 'this.aJSON.data.classname' - was not defined!"):console.log("WARNING: update_filename() - this.aJSON does not contain the hash 'this.aJSON.data' for access to classname 'this.aJSON.data.classname' - update of classname in DOM was not performed!"):console.log("WARNING: update_filename() - DOM node ["+vDOMID+"] does not exist!")}else console.log("WARNING: update_filename() - DOM-ID is not defined in this.aOptions['filename_id']")},this.update_watchclasslist=function(){if(console.log("Call: update_watchclasslist() Update Class in Schema "),this.aJSON&&this.aJSON.settings)if(this.aEditor){var watchclasses=[" "];console.log("Call: update_watchclasslist() Editor defined ");var basecl=this.getEditor("root.settings.baseclasslist").getValue();if(basecl)for(var i=0;i<basecl.length;i++)watchclasses.push(basecl[i].name);var cl=[],localcl=this.getEditor("root.settings.localclasslist").getValue();if(localcl)for(var k=0;k<localcl.length;k++)cl.push(localcl[k].name);var remotecl=this.getEditor("root.settings.remoteclasslist").getValue();if(remotecl)for(var j=0;j<remotecl.length;j++)cl.push(remotecl[j].name);cl.sort(),console.log("cl=("+cl.join(",")+")");for(var m=0;m<cl.length;m++)watchclasses.push(cl[m].name);var vEditNode=this.getEditor("root.watchclasslist");vEditNode.setValue(watchclasses)}else console.log("WARNING: update_watchclasslist()-call aEditor not defined");else console.log("WARNING: src/exportmod.js - update_watchclasslist() - this.aJSON.settings undefined!")},this.update_subeditor=function(pEditPath,pJSON){var ed_classlist=this.getEditor(pEditPath);this.aJSON.settings;ed_classlist?(ed_classlist.setValue(pJSON),console.log("update_subeditor('"+pEditPath+"',pJSON) "+ed_classlist.getValue())):console.log("update_subeditor('"+pEditPath+"',pJSON) editor undefined - wrong Edit Path")},this.validate_errors=function(){var errors=this.aEditor.validate(),indicator=this.el(this.aOptions.validator_id);errors.length?(indicator.style.color="red",indicator.textContent="not valid"):(indicator.style.color="green",indicator.textContent="valid");for(var vErrors="",vCR="",i=0;i<errors.length;i++)vErrors+=vCR+errors[i].path+" - "+errors[i].property+" - "+errors[i].message,vCR="\n";this.el("tErrors").value=vErrors},this.loadLS=function(pLSID){var vLSID=pLSID||"jsondatra",vJSONstring="";if("undefined"!=typeof Storage)if(void 0!==typeof localStorage.getItem(vLSID))if(console.log("LocalStorage: '"+vLSID+"' try loading from Local Storage"),vJSONstring=localStorage.getItem(vLSID)){console.log("parse JSON '"+vLSID+"') from LocalStorage JSONstring='"+vJSONstring.substr(0,120)+"...'");try{this.aJSON=JSON.parse(vJSONstring)}catch(e){alert("ERROR: "+e)}}else console.log("LocalStorage: '"+vLSID+"' undefined in Local Storage.\nSave default as JSON"),vJSONstring=JSON.stringify(this.getValue()),console.log("LocalStorage: loadLS('"+vLSID+"') - init with JSONstring='"+vJSONstring.substr(0,120)+"...'"),localStorage.setItem(vLSID,vJSONstring);else console.log("JSON-Data '"+vLSID+"' is undefined in Local Storage.\nSave default as JSON"),localStorage.setItem(vLSID,JSON.stringify(this.aEditor.getValue()));else console.log("WARNING: Sorry, your browser does not support Local Storage of JSON Database. Use Firefox ...")},this.saveLS=function(pLSID){var vLSID=pLSID||"jsondata";console.log("saveLS('"+vLSID+"')-Call");var vJSON=this.getValue(),vJSONstring="";"undefined"!=typeof Storage?void 0!=typeof vJSON?(console.log("LocalStorage: '"+vLSID+"' is defined, JSONDB in  Local Storage"),vJSON?(vJSONstring=JSON.stringify(vJSON),console.log("LocalStorage: saveLS('"+vLSID+"') JSONstring='"+vJSONstring.substr(0,240)+"...' DONE"),localStorage.setItem(vLSID,vJSONstring)):console.log("vJSON with JSON is NOT defined")):console.log("JSON Data '"+vLSID+"' is undefined"):console.log("WARNING: Sorry, your browser does not support Local Storage of JSON Database. Use Firefox ...")},this.loadJSON=function(){var vThis=this,fileToLoad=this.el(this.aOptions.filejson_id).files[0];if(fileToLoad){console.log("loader4JSON() - File '"+fileToLoad.name+"' exists."),$("#load_filename").html(fileToLoad.name);var fileReader=new FileReader;fileReader.onload=function(fileLoadedEvent){var vTextFromFileLoaded=fileLoadedEvent.target.result;try{vThis.aEditor.setValue(JSON.parse(vTextFromFileLoaded)),vThis.update_filename(),alert("File JSON '"+fileToLoad.name+"' loaded successfully!"),vThis.validate_errors()}catch(e){vThis.aEditor.setValue([]),alert(e)}},fileReader.readAsText(fileToLoad,"UTF-8")}else alert("File is missing");this.saveLS("jsondata")},this.getClassname4File=function(){return class2filename(getClassName(this.aJSON),"_juml.json")},this.getFilename=function(pJSON){var vClassName="Undefined_Class",vExtension=pJSON.settings.extension4json||"_uml.json";return pJSON?pJSON.data?pJSON.data.classname?vClassName=pJSON.data.classname:console.log("WARNING: pJSON.data.classname undefined in JSONEditor4Code.getFilename()"):console.log("WARNING: pJSON.data undefined in JSONEditor4Code.getFilename()"):console.log("WARNING: pJSON undefined in JSONEditor4Code.getFilename()"),class2filename(vClassName)+vExtension},this.setFilename=function(pFilename){this.aJSON&&this.aJSON.data&&this.aJSON.data.classname&&(this.aJSON.data.classname=pFilename)},this.saveJSON=function(){var vJSON=this.aEditor.getValue();this.saveLS("jsondata");var vFile=this.getFilename(vJSON);this.update_modified();var vContent=JSON.stringify(vJSON,null,4);saveFile2HDD(vFile,vContent),console.log("JSON output '"+vFile+"':\n"+vContent),alert("JSON File: '"+vFile+"' saved!")},this.saveSchema=function(){var vContent=JSON.stringify(this.aSchema,null,4),vFile="class_uml_schema.json";saveFile2HDD(vFile,vContent),console.log("JSON Schema '"+vFile+"' saved!"),alert("JSON Schema File: '"+vFile+"' saved!")},this.saveDocumentation=function(){this.save4Template("docu4github","_github.md","Github MarkDown Documentation")},this.viewOutput=function(pContent){var vOutNode=this.el("tOutput");vOutNode?vOutNode.value=pContent:console.log("WARNING: JSONEditor4Code.viewOutput()-call - textarea 'tOutput' not defined in DOM")},this.getOutput4Template=function(pTplID){console.log("getOutput4Template('"+pTplID+"')"),this.update_modified();var vJSON=this.aEditor.getValue(),vContent="Undefined Handlebars Compiler TplID='"+pTplID+"'";return this.compileCode[pTplID]?(vContent=this.compileCode[pTplID](vJSON),this.viewOutput(vContent)):console.log("compileCode['"+pTplCode+"'] undefined"),vContent},this.save4Template=function(pTplID,pExtension,pMessage){console.log("save4Template('"+pTplID+"'.'"+pExtension+"','"+pMessage+"')");var vMessage=pMessage||"Code",vContent=this.getOutput4Template(pTplID);console.log("save4Template() vContent="+vContent.substr(0,120)+"..."),this.viewOutput(vContent);var vJSON=this.getValue(),vFile=class2filename(vJSON.data.classname,pExtension);saveFile2HDD(vFile,vContent),console.log("File '"+vFile+"' saved - "+vMessage)},this.saveCode=function(pTplID,pExt,pMessage){var vTplID=pTplID||"javascript",vExt=pExt||".js",vMessage=pMessage||"Javascript Code for Class";this.save4Template(vTplID,vExt,vMessage)},this.update_modified=function(){this.aJSON&&(this.aJSON.reposinfo?(this.aJSON.reposinfo.modified=getDateTime(),console.log("reposinfo.modified updated with: '"+this.aJSON.reposinfo.modified+"'")):console.log("this.aJSON.reposinfo.modified was undefined - src/libs/exportmod.js:518"),this.update_filename())}}if(function(view){"use strict";if(view.URL=view.URL||view.webkitURL,view.Blob&&view.URL)try{return void new Blob}catch(e){}var BlobBuilder=view.BlobBuilder||view.WebKitBlobBuilder||view.MozBlobBuilder||function(view){var get_class=function(object){return Object.prototype.toString.call(object).match(/^\[object\s(.*)\]$/)[1]},FakeBlobBuilder=function(){this.data=[]},FakeBlob=function(data,type,encoding){this.data=data,this.size=data.length,this.type=type,this.encoding=encoding},FBB_proto=FakeBlobBuilder.prototype,FB_proto=FakeBlob.prototype,FileReaderSync=view.FileReaderSync,FileException=function(type){this.code=this[this.name=type]},file_ex_codes="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),file_ex_code=file_ex_codes.length,real_URL=view.URL||view.webkitURL||view,real_create_object_URL=real_URL.createObjectURL,real_revoke_object_URL=real_URL.revokeObjectURL,URL=real_URL,btoa=view.btoa,atob=view.atob,ArrayBuffer=view.ArrayBuffer,Uint8Array=view.Uint8Array,origin=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(FakeBlob.fake=FB_proto.fake=!0;file_ex_code--;)FileException.prototype[file_ex_codes[file_ex_code]]=file_ex_code+1;return real_URL.createObjectURL||(URL=view.URL=function(uri){var uri_origin,uri_info=document.createElementNS("http://www.w3.org/1999/xhtml","a");return uri_info.href=uri,"origin"in uri_info||("data:"===uri_info.protocol.toLowerCase()?uri_info.origin=null:(uri_origin=uri.match(origin),uri_info.origin=uri_origin&&uri_origin[1])),uri_info}),URL.createObjectURL=function(blob){var data_URI_header,type=blob.type;return null===type&&(type="application/octet-stream"),blob instanceof FakeBlob?(data_URI_header="data:"+type,"base64"===blob.encoding?data_URI_header+";base64,"+blob.data:"URI"===blob.encoding?data_URI_header+","+decodeURIComponent(blob.data):btoa?data_URI_header+";base64,"+btoa(blob.data):data_URI_header+","+encodeURIComponent(blob.data)):real_create_object_URL?real_create_object_URL.call(real_URL,blob):void 0},URL.revokeObjectURL=function(object_URL){"data:"!==object_URL.substring(0,5)&&real_revoke_object_URL&&real_revoke_object_URL.call(real_URL,object_URL)},FBB_proto.append=function(data){var bb=this.data;if(Uint8Array&&(data instanceof ArrayBuffer||data instanceof Uint8Array)){for(var str="",buf=new Uint8Array(data),i=0,buf_len=buf.length;i<buf_len;i++)str+=String.fromCharCode(buf[i]);bb.push(str)}else if("Blob"===get_class(data)||"File"===get_class(data)){if(!FileReaderSync)throw new FileException("NOT_READABLE_ERR");var fr=new FileReaderSync;bb.push(fr.readAsBinaryString(data))}else data instanceof FakeBlob?"base64"===data.encoding&&atob?bb.push(atob(data.data)):"URI"===data.encoding?bb.push(decodeURIComponent(data.data)):"raw"===data.encoding&&bb.push(data.data):("string"!=typeof data&&(data+=""),bb.push(unescape(encodeURIComponent(data))))},FBB_proto.getBlob=function(type){return arguments.length||(type=null),new FakeBlob(this.data.join(""),type,"raw")},FBB_proto.toString=function(){return"[object BlobBuilder]"},FB_proto.slice=function(start,end,type){var args=arguments.length;return args<3&&(type=null),new FakeBlob(this.data.slice(start,args>1?end:this.data.length),type,this.encoding)},FB_proto.toString=function(){return"[object Blob]"},FB_proto.close=function(){this.size=0,delete this.data},FakeBlobBuilder}(view);view.Blob=function(blobParts,options){var type=options?options.type||"":"",builder=new BlobBuilder;if(blobParts)for(var i=0,len=blobParts.length;i<len;i++)Uint8Array&&blobParts[i]instanceof Uint8Array?builder.append(blobParts[i].buffer):builder.append(blobParts[i]);var blob=builder.getBlob(type);return!blob.slice&&blob.webkitSlice&&(blob.slice=blob.webkitSlice),blob};var getPrototypeOf=Object.getPrototypeOf||function(object){return object.__proto__};view.Blob.prototype=getPrototypeOf(new view.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function($){"use strict";var version=$.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||1==version[0]&&9==version[1]&&version[2]<1||version[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function($){"use strict";function transitionEnd(){
var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(void 0!==el.style[name])return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one("bsTransitionEnd",function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd(),$.support.transition&&($.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.alert");data||$this.data("bs.alert",data=new Alert(this)),"string"==typeof option&&data[option].call($this)})}var dismiss='[data-dismiss="alert"]',Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.7",Alert.TRANSITION_DURATION=150,Alert.prototype.close=function(e){function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}var $this=$(this),selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=$("#"===selector?[]:selector);e&&e.preventDefault(),$parent.length||($parent=$this.closest(".alert")),$parent.trigger(e=$.Event("close.bs.alert")),e.isDefaultPrevented()||($parent.removeClass("in"),$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement())};var old=$.fn.alert;$.fn.alert=Plugin,$.fn.alert.Constructor=Alert,$.fn.alert.noConflict=function(){return $.fn.alert=old,this},$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.button"),options="object"==typeof option&&option;data||$this.data("bs.button",data=new Button(this,options)),"toggle"==option?data.toggle():option&&data.setState(option)})}var Button=function(element,options){this.$element=$(element),this.options=$.extend({},Button.DEFAULTS,options),this.isLoading=!1};Button.VERSION="3.3.7",Button.DEFAULTS={loadingText:"loading..."},Button.prototype.setState=function(state){var d="disabled",$el=this.$element,val=$el.is("input")?"val":"html",data=$el.data();state+="Text",null==data.resetText&&$el.data("resetText",$el[val]()),setTimeout($.proxy(function(){$el[val](null==data[state]?this.options[state]:data[state]),"loadingText"==state?(this.isLoading=!0,$el.addClass(d).attr(d,d).prop(d,!0)):this.isLoading&&(this.isLoading=!1,$el.removeClass(d).removeAttr(d).prop(d,!1))},this),0)},Button.prototype.toggle=function(){var changed=!0,$parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");"radio"==$input.prop("type")?($input.prop("checked")&&(changed=!1),$parent.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==$input.prop("type")&&($input.prop("checked")!==this.$element.hasClass("active")&&(changed=!1),this.$element.toggleClass("active")),$input.prop("checked",this.$element.hasClass("active")),changed&&$input.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var old=$.fn.button;$.fn.button=Plugin,$.fn.button.Constructor=Button,$.fn.button.noConflict=function(){return $.fn.button=old,this},$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target).closest(".btn");Plugin.call($btn,"toggle"),$(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),$btn.is("input,button")?$btn.trigger("focus"):$btn.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.carousel"),options=$.extend({},Carousel.DEFAULTS,$this.data(),"object"==typeof option&&option),action="string"==typeof option?option:options.slide;data||$this.data("bs.carousel",data=new Carousel(this,options)),"number"==typeof option?data.to(option):action?data[action]():options.interval&&data.pause().cycle()})}var Carousel=function(element,options){this.$element=$(element),this.$indicators=this.$element.find(".carousel-indicators"),this.options=options,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.7",Carousel.TRANSITION_DURATION=600,Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},Carousel.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},Carousel.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval)),this},Carousel.prototype.getItemIndex=function(item){return this.$items=item.parent().children(".item"),this.$items.index(item||this.$active)},Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active);if(("prev"==direction&&0===activeIndex||"next"==direction&&activeIndex==this.$items.length-1)&&!this.options.wrap)return active;var delta="prev"==direction?-1:1,itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)},Carousel.prototype.to=function(pos){var that=this,activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(pos>this.$items.length-1||pos<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){that.to(pos)}):activeIndex==pos?this.pause().cycle():this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))},Carousel.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&$.support.transition&&(this.$element.trigger($.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},Carousel.prototype.next=function(){if(!this.sliding)return this.slide("next")},Carousel.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active"),$next=next||this.getItemForDirection(type,$active),isCycling=this.interval,direction="next"==type?"left":"right",that=this;if($next.hasClass("active"))return this.sliding=!1;var relatedTarget=$next[0],slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if(this.$element.trigger(slideEvent),!slideEvent.isDefaultPrevented()){if(this.sliding=!0,isCycling&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});return $.support.transition&&this.$element.hasClass("slide")?($next.addClass(type),$next[0].offsetWidth,$active.addClass(direction),$next.addClass(direction),$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active"),$active.removeClass(["active",direction].join(" ")),that.sliding=!1,setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)):($active.removeClass("active"),$next.addClass("active"),this.sliding=!1,this.$element.trigger(slidEvent)),isCycling&&this.cycle(),this}};var old=$.fn.carousel;$.fn.carousel=Plugin,$.fn.carousel.Constructor=Carousel,$.fn.carousel.noConflict=function(){return $.fn.carousel=old,this};var clickHandler=function(e){var href,$this=$(this),$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if($target.hasClass("carousel")){var options=$.extend({},$target.data(),$this.data()),slideIndex=$this.attr("data-slide-to");slideIndex&&(options.interval=!1),Plugin.call($target,options),slideIndex&&$target.data("bs.carousel").to(slideIndex),e.preventDefault()}};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler),$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery),function($){"use strict";function getTargetFromTrigger($trigger){var href,target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),"object"==typeof option&&option);!data&&options.toggle&&/show|hide/.test(option)&&(options.toggle=!1),data||$this.data("bs.collapse",data=new Collapse(this,options)),"string"==typeof option&&data[option]()})}var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],[data-toggle="collapse"][data-target="#'+element.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};Collapse.VERSION="3.3.7",Collapse.TRANSITION_DURATION=350,Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},Collapse.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var activesData,actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(actives&&actives.length&&(activesData=actives.data("bs.collapse"))&&activesData.transitioning)){var startEvent=$.Event("show.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){actives&&actives.length&&(Plugin.call(actives,"hide"),activesData||actives.data("bs.collapse",null));var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])}}}},Collapse.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var startEvent=$.Event("hide.bs.collapse");if(this.$element.trigger(startEvent),!startEvent.isDefaultPrevented()){var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var complete=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)}}},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()},Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in");$element.attr("aria-expanded",isOpen),$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};var old=$.fn.collapse;$.fn.collapse=Plugin,$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);$this.attr("data-target")||e.preventDefault();var $target=getTargetFromTrigger($this),data=$target.data("bs.collapse"),option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery),function($){"use strict";function getParent($this){var selector=$this.attr("data-target");selector||(selector=$this.attr("href"),selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,""));var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){e&&3===e.which||($(backdrop).remove(),$(toggle).each(function(){var $this=$(this),$parent=getParent($this),relatedTarget={relatedTarget:this};$parent.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target)||($parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget)),e.isDefaultPrevented()||($this.attr("aria-expanded","false"),$parent.removeClass("open").trigger($.Event("hidden.bs.dropdown",relatedTarget)))))}))}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.dropdown");data||$this.data("bs.dropdown",data=new Dropdown(this)),"string"==typeof option&&data[option].call($this)})}var backdrop=".dropdown-backdrop",toggle='[data-toggle="dropdown"]',Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.7",Dropdown.prototype.toggle=function(e){var $this=$(this);if(!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(clearMenus(),!isActive){"ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length&&$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus);var relatedTarget={relatedTarget:this};if($parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget)),e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true"),$parent.toggleClass("open").trigger($.Event("shown.bs.dropdown",relatedTarget))}return!1}},Dropdown.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var $this=$(this);if(e.preventDefault(),e.stopPropagation(),!$this.is(".disabled, :disabled")){var $parent=getParent($this),isActive=$parent.hasClass("open");if(!isActive&&27!=e.which||isActive&&27==e.which)return 27==e.which&&$parent.find(toggle).trigger("focus"),$this.trigger("click");var $items=$parent.find(".dropdown-menu li:not(.disabled):visible a");if($items.length){var index=$items.index(e.target);38==e.which&&index>0&&index--,40==e.which&&index<$items.length-1&&index++,~index||(index=0),$items.eq(index).trigger("focus")}}}};var old=$.fn.dropdown;$.fn.dropdown=Plugin,$.fn.dropdown.Constructor=Dropdown,$.fn.dropdown.noConflict=function(){return $.fn.dropdown=old,this},$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery),function($){"use strict";function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this),data=$this.data("bs.modal"),options=$.extend({},Modal.DEFAULTS,$this.data(),"object"==typeof option&&option);data||$this.data("bs.modal",data=new Modal(this,options)),"string"==typeof option?data[option](_relatedTarget):options.show&&data.show(_relatedTarget)})}var Modal=function(element,options){this.options=options,this.$body=$(document.body),this.$element=$(element),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};Modal.VERSION="3.3.7",Modal.TRANSITION_DURATION=300,Modal.BACKDROP_TRANSITION_DURATION=150,Modal.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)},Modal.prototype.show=function(_relatedTarget){var that=this,e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){$(e.target).is(that.$element)&&(that.ignoreBackdropClick=!0)})}),this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");that.$element.parent().length||that.$element.appendTo(that.$body),that.$element.show().scrollTop(0),that.adjustDialog(),transition&&that.$element[0].offsetWidth,that.$element.addClass("in"),that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)}))},Modal.prototype.hide=function(e){e&&e.preventDefault(),e=$.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),$(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal())},Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},Modal.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},Modal.prototype.resize=function(){this.isShown?$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this)):$(window).off("resize.bs.modal")},Modal.prototype.hideModal=function(){var that=this;this.$element.hide(),this.backdrop(function(){that.$body.removeClass("modal-open"),that.resetAdjustments(),that.resetScrollbar(),that.$element.trigger("hidden.bs.modal")})},Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},Modal.prototype.backdrop=function(callback){var that=this,animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;if(this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick)return void(this.ignoreBackdropClick=!1);e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),doAnimate&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop(),callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else callback&&callback()},Modal.prototype.handleUpdate=function(){this.adjustDialog()},Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})},Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth,this.scrollbarWidth=this.measureScrollbar()},Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",bodyPad+this.scrollbarWidth)},Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure",this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return this.$body[0].removeChild(scrollDiv),scrollbarWidth};var old=$.fn.modal;$.fn.modal=Plugin,$.fn.modal.Constructor=Modal,$.fn.modal.noConflict=function(){return $.fn.modal=old,this},$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this),href=$this.attr("href"),$target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,"")),option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());$this.is("a")&&e.preventDefault(),$target.one("show.bs.modal",function(showEvent){showEvent.isDefaultPrevented()||$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})}),Plugin.call($target,option,this)})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.tooltip",data=new Tooltip(this,options)),"string"==typeof option&&data[option]())})}var Tooltip=function(element,options){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",element,options)};Tooltip.VERSION="3.3.7",Tooltip.TRANSITION_DURATION=150,Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){if(this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var triggers=this.options.trigger.split(" "),i=triggers.length;i--;){var trigger=triggers[i];if("click"==trigger)this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if("manual"!=trigger){var eventIn="hover"==trigger?"mouseenter":"focusin",eventOut="hover"==trigger?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&"number"==typeof options.delay&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);return self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusin"==obj.type?"focus":"hover"]=!0),self.tip().hasClass("in")||"in"==self.hoverState?void(self.hoverState="in"):(clearTimeout(self.timeout),self.hoverState="in",self.options.delay&&self.options.delay.show?void(self.timeout=setTimeout(function(){"in"==self.hoverState&&self.show()},self.options.delay.show)):self.show())},Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState)if(this.inState[key])return!0;return!1},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(self||(self=new this.constructor(obj.currentTarget,this.getDelegateOptions()),$(obj.currentTarget).data("bs."+this.type,self)),obj instanceof $.Event&&(self.inState["focusout"==obj.type?"focus":"hover"]=!1),!self.isInStateTrue()){if(clearTimeout(self.timeout),self.hoverState="out",!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){"out"==self.hoverState&&self.hide()},self.options.delay.hide)}},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this,$tip=this.tip(),tipId=this.getUID(this.type);this.setContent(),$tip.attr("id",tipId),this.$element.attr("aria-describedby",tipId),this.options.animation&&$tip.addClass("fade");var placement="function"==typeof this.options.placement?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this),this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,viewportDim=this.getPosition(this.$viewport);placement="bottom"==placement&&pos.bottom+actualHeight>viewportDim.bottom?"top":"top"==placement&&pos.top-actualHeight<viewportDim.top?"bottom":"right"==placement&&pos.right+actualWidth>viewportDim.width?"left":"left"==placement&&pos.left-actualWidth<viewportDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type),that.hoverState=null,"out"==prevHoverState&&that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top+=marginTop,offset.left+=marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;"top"==placement&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var isVertical=/top|bottom/.test(placement),arrowDelta=isVertical?2*delta.left-width+actualWidth:2*delta.top-height+actualHeight,arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)},Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(callback){function complete(){"in"!=that.hoverState&&$tip.detach(),that.$element&&that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type),callback&&callback()}var that=this,$tip=$(this.$tip),e=$.Event("hide.bs."+this.type);if(this.$element.trigger(e),!e.isDefaultPrevented())return $tip.removeClass("in"),$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||"string"!=typeof $e.attr("data-original-title"))&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody="BODY"==el.tagName,elRect=el.getBoundingClientRect();null==elRect.width&&(elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top}));var isSvg=window.SVGElement&&el instanceof window.SVGElement,elOffset=isBody?{top:0,left:0}:isSvg?null:$element.offset(),scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()},outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){
return"bottom"==placement?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:"top"==placement?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:"left"==placement?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.right&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var $e=this.$element,o=this.options;return $e.attr("data-original-title")||("function"==typeof o.title?o.title.call($e[0]):o.title)},Tooltip.prototype.getUID=function(prefix){do{prefix+=~~(1e6*Math.random())}while(document.getElementById(prefix));return prefix},Tooltip.prototype.tip=function(){if(!this.$tip&&(this.$tip=$(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=this;e&&((self=$(e.currentTarget).data("bs."+this.type))||(self=new this.constructor(e.currentTarget,this.getDelegateOptions()),$(e.currentTarget).data("bs."+this.type,self))),e?(self.inState.click=!self.inState.click,self.isInStateTrue()?self.enter(self):self.leave(self)):self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout),this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type),that.$tip&&that.$tip.detach(),that.$tip=null,that.$arrow=null,that.$viewport=null,that.$element=null})};var old=$.fn.tooltip;$.fn.tooltip=Plugin,$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.popover"),options="object"==typeof option&&option;!data&&/destroy|hide/.test(option)||(data||$this.data("bs.popover",data=new Popover(this,options)),"string"==typeof option&&data[option]())})}var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.7",Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype),Popover.prototype.constructor=Popover,Popover.prototype.getDefaults=function(){return Popover.DEFAULTS},Popover.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle(),content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title),$tip.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof content?"html":"append":"text"](content),$tip.removeClass("fade top bottom left right in"),$tip.find(".popover-title").html()||$tip.find(".popover-title").hide()},Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()},Popover.prototype.getContent=function(){var $e=this.$element,o=this.options;return $e.attr("data-content")||("function"==typeof o.content?o.content.call($e[0]):o.content)},Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var old=$.fn.popover;$.fn.popover=Plugin,$.fn.popover.Constructor=Popover,$.fn.popover.noConflict=function(){return $.fn.popover=old,this}}(jQuery),function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body),this.$scrollElement=$($(element).is(document.body)?window:element),this.options=$.extend({},ScrollSpy.DEFAULTS,options),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this)),this.refresh(),this.process()}function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.scrollspy"),options="object"==typeof option&&option;data||$this.data("bs.scrollspy",data=new ScrollSpy(this,options)),"string"==typeof option&&data[option]()})}ScrollSpy.VERSION="3.3.7",ScrollSpy.DEFAULTS={offset:10},ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},ScrollSpy.prototype.refresh=function(){var that=this,offsetMethod="offset",offsetBase=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),$.isWindow(this.$scrollElement[0])||(offsetMethod="position",offsetBase=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var $el=$(this),href=$el.data("target")||$el.attr("href"),$href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]),that.targets.push(this[1])})},ScrollSpy.prototype.process=function(){var i,scrollTop=this.$scrollElement.scrollTop()+this.options.offset,scrollHeight=this.getScrollHeight(),maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height(),offsets=this.offsets,targets=this.targets,activeTarget=this.activeTarget;if(this.scrollHeight!=scrollHeight&&this.refresh(),scrollTop>=maxScroll)return activeTarget!=(i=targets[targets.length-1])&&this.activate(i);if(activeTarget&&scrollTop<offsets[0])return this.activeTarget=null,this.clear();for(i=offsets.length;i--;)activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(void 0===offsets[i+1]||scrollTop<offsets[i+1])&&this.activate(targets[i])},ScrollSpy.prototype.activate=function(target){this.activeTarget=target,this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]',active=$(selector).parents("li").addClass("active");active.parent(".dropdown-menu").length&&(active=active.closest("li.dropdown").addClass("active")),active.trigger("activate.bs.scrollspy")},ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var old=$.fn.scrollspy;$.fn.scrollspy=Plugin,$.fn.scrollspy.Constructor=ScrollSpy,$.fn.scrollspy.noConflict=function(){return $.fn.scrollspy=old,this},$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),"string"==typeof option&&data[option]()})}var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.7",Tab.TRANSITION_DURATION=150,Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");if(selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")),!$this.parent("li").hasClass("active")){var $previous=$ul.find(".active:last a"),hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]}),showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});if($previous.trigger(hideEvent),$this.trigger(showEvent),!showEvent.isDefaultPrevented()&&!hideEvent.isDefaultPrevented()){var $target=$(selector);this.activate($this.closest("li"),$ul),this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]}),$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})}}},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu").length&&element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=Plugin,$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this};var clickHandler=function(e){e.preventDefault(),Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery),function($){"use strict";function Plugin(option){return this.each(function(){var $this=$(this),data=$this.data("bs.affix"),options="object"==typeof option&&option;data||$this.data("bs.affix",data=new Affix(this,options)),"string"==typeof option&&data[option]()})}var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options),this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this)),this.$element=$(element),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};Affix.VERSION="3.3.7",Affix.RESET="affix affix-top affix-bottom",Affix.DEFAULTS={offset:0,target:window},Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop(),position=this.$element.offset(),targetHeight=this.$target.height();if(null!=offsetTop&&"top"==this.affixed)return scrollTop<offsetTop&&"top";if("bottom"==this.affixed)return null!=offsetTop?!(scrollTop+this.unpin<=position.top)&&"bottom":!(scrollTop+targetHeight<=scrollHeight-offsetBottom)&&"bottom";var initializing=null==this.affixed,colliderTop=initializing?scrollTop:position.top,colliderHeight=initializing?targetHeight:height;return null!=offsetTop&&scrollTop<=offsetTop?"top":null!=offsetBottom&&colliderTop+colliderHeight>=scrollHeight-offsetBottom&&"bottom"},Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop(),position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop},Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)},Affix.prototype.checkPosition=function(){if(this.$element.is(":visible")){var height=this.$element.height(),offset=this.options.offset,offsetTop=offset.top,offsetBottom=offset.bottom,scrollHeight=Math.max($(document).height(),$(document.body).height());"object"!=typeof offset&&(offsetBottom=offsetTop=offset),"function"==typeof offsetTop&&(offsetTop=offset.top(this.$element)),"function"==typeof offsetBottom&&(offsetBottom=offset.bottom(this.$element));var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){null!=this.unpin&&this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:""),e=$.Event(affixType+".bs.affix");if(this.$element.trigger(e),e.isDefaultPrevented())return;this.affixed=affix,this.unpin="bottom"==affix?this.getPinnedOffset():null,this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}"bottom"==affix&&this.$element.offset({top:scrollHeight-height-offsetBottom})}};var old=$.fn.affix;$.fn.affix=Plugin,$.fn.affix.Constructor=Affix,$.fn.affix.noConflict=function(){return $.fn.affix=old,this},$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this),data=$spy.data();data.offset=data.offset||{},null!=data.offsetBottom&&(data.offset.bottom=data.offsetBottom),null!=data.offsetTop&&(data.offset.top=data.offsetTop),Plugin.call($spy,data)})})}(jQuery);var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},l=function(e,t,n){t=[].concat(t);for(var r=t.length;r--;){var o=e["on"+t[r]];if("function"==typeof o)try{o.call(e,n||e)}catch(a){u(a)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},v=function(t,u,d){d||(t=p(t));var y,v=this,w=t.type,m="application/octet-stream"===w,h=function(){l(v,"writestart progress write writeend".split(" "))};if(v.readyState=v.INIT,o)return y=n().createObjectURL(t),void setTimeout(function(){r.href=y,r.download=u,a(r),h(),c(y),v.readyState=v.DONE});!function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,v.readyState=v.DONE,h()},r.readAsDataURL(t),void(v.readyState=v.INIT)}if(y||(y=n().createObjectURL(t)),m)e.location.href=y;else{e.open(y,"_blank")||(e.location.href=y)}v.readyState=v.DONE,h(),c(y)}()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t)}:(w.abort=function(){},w.readyState=w.INIT=0,w.WRITING=1,w.DONE=2,w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs}),function(){var Class;!function(){var initializing=!1,fnTest=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/;Class=function(){},Class.extend=function extend(prop){function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}var _super=this.prototype;initializing=!0;var prototype=new this;initializing=!1;for(var name in prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];return Class.prototype=prototype,Class.prototype.constructor=Class,Class.extend=extend,Class}}(),function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),function(){Array.isArray||(Array.isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)})}();var $isplainobject=function(obj){return!("object"!=typeof obj||obj.nodeType||null!==obj&&obj===obj.window)&&!(obj.constructor&&!Object.prototype.hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf"))},$extend=function(destination){var source,i,property;for(i=1;i<arguments.length;i++){source=arguments[i];for(property in source)source.hasOwnProperty(property)&&(source[property]&&$isplainobject(source[property])?(destination.hasOwnProperty(property)||(destination[property]={}),$extend(destination[property],source[property])):destination[property]=source[property])}return destination},$each=function(obj,callback){if(obj&&"object"==typeof obj){var i;if(Array.isArray(obj)||"number"==typeof obj.length&&obj.length>0&&obj.length-1 in obj){for(i=0;i<obj.length;i++)if(!1===callback(i,obj[i]))return}else if(Object.keys){var keys=Object.keys(obj);for(i=0;i<keys.length;i++)if(!1===callback(keys[i],obj[keys[i]]))return}else for(i in obj)if(obj.hasOwnProperty(i)&&!1===callback(i,obj[i]))return}},$trigger=function(el,event){var e=document.createEvent("HTMLEvents");e.initEvent(event,!0,!0),el.dispatchEvent(e)},JSONEditor=function(element,options){if(!(element instanceof Element))throw new Error("element should be an instance of Element");options=$extend({},JSONEditor.defaults.options,options||{}),this.element=element,this.options=options,this.init()};JSONEditor.prototype={constructor:JSONEditor,init:function(){var self=this;this.ready=!1;var theme_class=JSONEditor.defaults.themes[this.options.theme||JSONEditor.defaults.theme];if(!theme_class)throw"Unknown theme "+(this.options.theme||JSONEditor.defaults.theme);this.schema=this.options.schema,this.theme=new theme_class,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var icon_class=JSONEditor.defaults.iconlibs[this.options.iconlib||JSONEditor.defaults.iconlib];icon_class&&(this.iconlib=new icon_class),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||JSONEditor.defaults.translate,this._loadExternalRefs(this.schema,function(){self._getDefinitions(self.schema);var validator_options={};self.options.custom_validators&&(validator_options.custom_validators=self.options.custom_validators),self.validator=new JSONEditor.Validator(self,null,validator_options);var editor_class=self.getEditorClass(self.schema);self.root=self.createEditor(editor_class,{jsoneditor:self,schema:self.schema,required:!0,container:self.root_container}),self.root.preBuild(),self.root.build(),self.root.postBuild(),self.options.startval&&self.root.setValue(self.options.startval),self.validation_results=self.validator.validate(self.root.getValue()),self.root.showValidationErrors(self.validation_results),self.ready=!0,window.requestAnimationFrame(function(){self.ready&&(self.validation_results=self.validator.validate(self.root.getValue()),self.root.showValidationErrors(self.validation_results),self.trigger("ready"),self.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(value){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(value),this},validate:function(value){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(value):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(event,callback){return this.callbacks=this.callbacks||{},this.callbacks[event]=this.callbacks[event]||[],this.callbacks[event].push(callback),this},off:function(event,callback){if(event&&callback){this.callbacks=this.callbacks||{},this.callbacks[event]=this.callbacks[event]||[];for(var newcallbacks=[],i=0;i<this.callbacks[event].length;i++)this.callbacks[event][i]!==callback&&newcallbacks.push(this.callbacks[event][i]);this.callbacks[event]=newcallbacks}else event?(this.callbacks=this.callbacks||{},this.callbacks[event]=[]):this.callbacks={};return this},trigger:function(event){if(this.callbacks&&this.callbacks[event]&&this.callbacks[event].length)for(var i=0;i<this.callbacks[event].length;i++)this.callbacks[event][i]();return this},setOption:function(option,value){if("show_errors"!==option)throw"Option "+option+" must be set during instantiation and cannot be changed later";return this.options.show_errors=value,this.onChange(),this},getEditorClass:function(schema){var classname;if(schema=this.expandSchema(schema),$each(JSONEditor.defaults.resolvers,function(i,resolver){var tmp=resolver(schema);if(tmp&&JSONEditor.defaults.editors[tmp])return classname=tmp,!1}),!classname)throw"Unknown editor for schema "+JSON.stringify(schema);if(!JSONEditor.defaults.editors[classname])throw"Unknown editor "+classname;return JSONEditor.defaults.editors[classname]},createEditor:function(editor_class,options){return options=$extend({},editor_class.options||{},options),new editor_class(options)},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var self=this;return window.requestAnimationFrame(function(){self.firing_change=!1,self.ready&&(self.validation_results=self.validator.validate(self.root.getValue()),"never"!==self.options.show_errors?self.root.showValidationErrors(self.validation_results):self.root.showValidationErrors([]),self.trigger("change"))}),this}},compileTemplate:function(template,name){name=name||JSONEditor.defaults.template;var engine;if("string"==typeof name){if(!JSONEditor.defaults.templates[name])throw"Unknown template engine "+name;if(!(engine=JSONEditor.defaults.templates[name]()))throw"Template engine "+name+" missing required library."}else engine=name;if(!engine)throw"No template engine set";if(!engine.compile)throw"Invalid template engine set";return engine.compile(template)},_data:function(el,key,value){if(3!==arguments.length)return el.hasAttribute("data-jsoneditor-"+key)?this.__data[el.getAttribute("data-jsoneditor-"+key)]:null;var uuid;el.hasAttribute("data-jsoneditor-"+key)?uuid=el.getAttribute("data-jsoneditor-"+key):(uuid=this.uuid++,el.setAttribute("data-jsoneditor-"+key,uuid)),this.__data[uuid]=value},registerEditor:function(editor){return this.editors=this.editors||{},this.editors[editor.path]=editor,this},unregisterEditor:function(editor){return this.editors=this.editors||{},this.editors[editor.path]=null,this},getEditor:function(path){if(this.editors)return this.editors[path]},watch:function(path,callback){return this.watchlist=this.watchlist||{},this.watchlist[path]=this.watchlist[path]||[],this.watchlist[path].push(callback),this},unwatch:function(path,callback){if(!this.watchlist||!this.watchlist[path])return this;if(!callback)return this.watchlist[path]=null,this;for(var newlist=[],i=0;i<this.watchlist[path].length;i++)this.watchlist[path][i]!==callback&&newlist.push(this.watchlist[path][i]);return this.watchlist[path]=newlist.length?newlist:null,this},notifyWatchers:function(path){if(!this.watchlist||!this.watchlist[path])return this;for(var i=0;i<this.watchlist[path].length;i++)this.watchlist[path][i]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(schema,path){if(path=path||"#/definitions/",schema.definitions)for(var i in schema.definitions)schema.definitions.hasOwnProperty(i)&&(this.refs[path+i]=schema.definitions[i],schema.definitions[i].definitions&&this._getDefinitions(schema.definitions[i],path+i+"/definitions/"))},_getExternalRefs:function(schema){var refs={},merge_refs=function(newrefs){for(var i in newrefs)newrefs.hasOwnProperty(i)&&(refs[i]=!0)};schema.$ref&&"object"!=typeof schema.$ref&&"#"!==schema.$ref.substr(0,1)&&!this.refs[schema.$ref]&&(refs[schema.$ref]=!0);for(var i in schema)if(schema.hasOwnProperty(i))if(schema[i]&&"object"==typeof schema[i]&&Array.isArray(schema[i]))for(var j=0;j<schema[i].length;j++)"object"==typeof schema[i][j]&&merge_refs(this._getExternalRefs(schema[i][j]));else schema[i]&&"object"==typeof schema[i]&&merge_refs(this._getExternalRefs(schema[i]));return refs},_loadExternalRefs:function(schema,callback){var self=this,refs=this._getExternalRefs(schema),done=0,waiting=0,callback_fired=!1;$each(refs,function(url){if(!self.refs[url]){if(!self.options.ajax)throw"Must set ajax option to true to load external ref "+url;self.refs[url]="loading",waiting++;var r=new XMLHttpRequest;r.open("GET",url,!0),r.onreadystatechange=function(){if(4==r.readyState){if(200!==r.status)throw window.console.log(r),"Failed to fetch ref via ajax- "+url;var response;try{response=JSON.parse(r.responseText)}catch(e){throw window.console.log(e),"Failed to parse external ref "+url}if(!response||"object"!=typeof response)throw"External ref does not contain a valid schema - "+url;self.refs[url]=response,self._loadExternalRefs(response,function(){++done>=waiting&&!callback_fired&&(callback_fired=!0,callback())})}},r.send()}}),waiting||callback()},expandRefs:function(schema){for(schema=$extend({},schema);schema.$ref;){var ref=schema.$ref;delete schema.$ref,this.refs[ref]||(ref=decodeURIComponent(ref)),schema=this.extendSchemas(schema,this.refs[ref])}return schema},expandSchema:function(schema){var i,self=this,extended=$extend({},schema);if("object"==typeof schema.type&&(Array.isArray(schema.type)?$each(schema.type,function(key,value){"object"==typeof value&&(schema.type[key]=self.expandSchema(value))}):schema.type=self.expandSchema(schema.type)),"object"==typeof schema.disallow&&(Array.isArray(schema.disallow)?$each(schema.disallow,function(key,value){"object"==typeof value&&(schema.disallow[key]=self.expandSchema(value))}):schema.disallow=self.expandSchema(schema.disallow)),schema.anyOf&&$each(schema.anyOf,function(key,value){schema.anyOf[key]=self.expandSchema(value)}),schema.dependencies&&$each(schema.dependencies,function(key,value){"object"!=typeof value||Array.isArray(value)||(schema.dependencies[key]=self.expandSchema(value))}),schema.not&&(schema.not=this.expandSchema(schema.not)),schema.allOf){for(i=0;i<schema.allOf.length;i++)extended=this.extendSchemas(extended,this.expandSchema(schema.allOf[i]));delete extended.allOf}if(schema.extends){if(Array.isArray(schema.extends))for(i=0;i<schema.extends.length;i++)extended=this.extendSchemas(extended,this.expandSchema(schema.extends[i]));else extended=this.extendSchemas(extended,this.expandSchema(schema.extends));delete extended.extends}if(schema.oneOf){var tmp=$extend({},extended);for(delete tmp.oneOf,i=0;i<schema.oneOf.length;i++)extended.oneOf[i]=this.extendSchemas(this.expandSchema(schema.oneOf[i]),tmp)}return this.expandRefs(extended)},extendSchemas:function(obj1,obj2){obj1=$extend({},obj1),obj2=$extend({},obj2);var self=this,extended={};return $each(obj1,function(prop,val){void 0!==obj2[prop]?"required"!==prop&&"defaultProperties"!==prop||"object"!=typeof val||!Array.isArray(val)?"type"!==prop||"string"!=typeof val&&!Array.isArray(val)?"object"==typeof val&&Array.isArray(val)?extended[prop]=val.filter(function(n){return-1!==obj2[prop].indexOf(n)}):extended[prop]="object"==typeof val&&null!==val?self.extendSchemas(val,obj2[prop]):val:("string"==typeof val&&(val=[val]),"string"==typeof obj2.type&&(obj2.type=[obj2.type]),obj2.type&&obj2.type.length?extended.type=val.filter(function(n){return-1!==obj2.type.indexOf(n)}):extended.type=val,1===extended.type.length&&"string"==typeof extended.type[0]?extended.type=extended.type[0]:0===extended.type.length&&delete extended.type):extended[prop]=val.concat(obj2[prop]).reduce(function(p,c){return p.indexOf(c)<0&&p.push(c),p},[]):extended[prop]=val}),$each(obj2,function(prop,val){void 0===obj1[prop]&&(extended[prop]=val)}),extended}},JSONEditor.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},JSONEditor.Validator=Class.extend({init:function(jsoneditor,schema,options){this.jsoneditor=jsoneditor,this.schema=schema||this.jsoneditor.schema,this.options=options||{},this.translate=this.jsoneditor.translate||JSONEditor.defaults.translate},validate:function(value){return this._validateSchema(this.schema,value)},_validateSchema:function(schema,value,path){var valid,i,j,self=this,errors=[],stringified=JSON.stringify(value);if(path=path||"root",schema=$extend({},this.jsoneditor.expandRefs(schema)),schema.required&&!0===schema.required){if(void 0===value)return errors.push({path:path,property:"required",message:this.translate("error_notset")}),errors}else if(void 0===value){if(!this.jsoneditor.options.required_by_default)return errors;errors.push({path:path,property:"required",message:this.translate("error_notset")})}if(schema.enum){for(valid=!1,i=0;i<schema.enum.length;i++)stringified===JSON.stringify(schema.enum[i])&&(valid=!0);valid||errors.push({path:path,property:"enum",message:this.translate("error_enum")})}if(schema.extends)for(i=0;i<schema.extends.length;i++)errors=errors.concat(this._validateSchema(schema.extends[i],value,path));if(schema.allOf)for(i=0;i<schema.allOf.length;i++)errors=errors.concat(this._validateSchema(schema.allOf[i],value,path));if(schema.anyOf){for(valid=!1,i=0;i<schema.anyOf.length;i++)if(!this._validateSchema(schema.anyOf[i],value,path).length){valid=!0;break}valid||errors.push({path:path,property:"anyOf",message:this.translate("error_anyOf")})}if(schema.oneOf){valid=0;var oneof_errors=[];for(i=0;i<schema.oneOf.length;i++){var tmp=this._validateSchema(schema.oneOf[i],value,path);for(tmp.length||valid++,j=0;j<tmp.length;j++)tmp[j].path=path+".oneOf["+i+"]"+tmp[j].path.substr(path.length);oneof_errors=oneof_errors.concat(tmp)}1!==valid&&(errors.push({path:path,property:"oneOf",message:this.translate("error_oneOf",[valid])}),errors=errors.concat(oneof_errors))}if(schema.not&&(this._validateSchema(schema.not,value,path).length||errors.push({path:path,property:"not",message:this.translate("error_not")})),schema.type)if(Array.isArray(schema.type)){for(valid=!1,i=0;i<schema.type.length;i++)if(this._checkType(schema.type[i],value)){valid=!0;break}valid||errors.push({path:path,property:"type",message:this.translate("error_type_union")})}else this._checkType(schema.type,value)||errors.push({path:path,property:"type",
message:this.translate("error_type",[schema.type])});if(schema.disallow)if(Array.isArray(schema.disallow)){for(valid=!0,i=0;i<schema.disallow.length;i++)if(this._checkType(schema.disallow[i],value)){valid=!1;break}valid||errors.push({path:path,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(schema.disallow,value)&&errors.push({path:path,property:"disallow",message:this.translate("error_disallow",[schema.disallow])});if("number"==typeof value){if(schema.multipleOf||schema.divisibleBy){var divisor=schema.multipleOf||schema.divisibleBy;valid=value/divisor===Math.floor(value/divisor),window.math?valid=window.math.mod(window.math.bignumber(value),window.math.bignumber(divisor)).equals(0):window.Decimal&&(valid=new window.Decimal(value).mod(new window.Decimal(divisor)).equals(0)),valid||errors.push({path:path,property:schema.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[divisor])})}schema.hasOwnProperty("maximum")&&(valid=schema.exclusiveMaximum?value<schema.maximum:value<=schema.maximum,window.math?valid=window.math[schema.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(value),window.math.bignumber(schema.maximum)):window.Decimal&&(valid=new window.Decimal(value)[schema.exclusiveMaximum?"lt":"lte"](new window.Decimal(schema.maximum))),valid||errors.push({path:path,property:"maximum",message:this.translate(schema.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[schema.maximum])})),schema.hasOwnProperty("minimum")&&(valid=schema.exclusiveMinimum?value>schema.minimum:value>=schema.minimum,window.math?valid=window.math[schema.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(value),window.math.bignumber(schema.minimum)):window.Decimal&&(valid=new window.Decimal(value)[schema.exclusiveMinimum?"gt":"gte"](new window.Decimal(schema.minimum))),valid||errors.push({path:path,property:"minimum",message:this.translate(schema.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[schema.minimum])}))}else if("string"==typeof value)schema.maxLength&&(value+"").length>schema.maxLength&&errors.push({path:path,property:"maxLength",message:this.translate("error_maxLength",[schema.maxLength])}),schema.minLength&&(value+"").length<schema.minLength&&errors.push({path:path,property:"minLength",message:this.translate(1===schema.minLength?"error_notempty":"error_minLength",[schema.minLength])}),schema.pattern&&(new RegExp(schema.pattern).test(value)||errors.push({path:path,property:"pattern",message:this.translate("error_pattern",[schema.pattern])}));else if("object"==typeof value&&null!==value&&Array.isArray(value)){if(schema.items)if(Array.isArray(schema.items))for(i=0;i<value.length;i++)if(schema.items[i])errors=errors.concat(this._validateSchema(schema.items[i],value[i],path+"."+i));else{if(!0===schema.additionalItems)break;if(!schema.additionalItems){if(!1===schema.additionalItems){errors.push({path:path,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}errors=errors.concat(this._validateSchema(schema.additionalItems,value[i],path+"."+i))}else for(i=0;i<value.length;i++)errors=errors.concat(this._validateSchema(schema.items,value[i],path+"."+i));if(schema.maxItems&&value.length>schema.maxItems&&errors.push({path:path,property:"maxItems",message:this.translate("error_maxItems",[schema.maxItems])}),schema.minItems&&value.length<schema.minItems&&errors.push({path:path,property:"minItems",message:this.translate("error_minItems",[schema.minItems])}),schema.uniqueItems){var seen={};for(i=0;i<value.length;i++){if(valid=JSON.stringify(value[i]),seen[valid]){errors.push({path:path,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}seen[valid]=!0}}}else if("object"==typeof value&&null!==value){if(schema.maxProperties){valid=0;for(i in value)value.hasOwnProperty(i)&&valid++;valid>schema.maxProperties&&errors.push({path:path,property:"maxProperties",message:this.translate("error_maxProperties",[schema.maxProperties])})}if(schema.minProperties){valid=0;for(i in value)value.hasOwnProperty(i)&&valid++;valid<schema.minProperties&&errors.push({path:path,property:"minProperties",message:this.translate("error_minProperties",[schema.minProperties])})}if(schema.required&&Array.isArray(schema.required))for(i=0;i<schema.required.length;i++)void 0===value[schema.required[i]]&&errors.push({path:path,property:"required",message:this.translate("error_required",[schema.required[i]])});var validated_properties={};if(schema.properties)for(i in schema.properties)schema.properties.hasOwnProperty(i)&&(validated_properties[i]=!0,errors=errors.concat(this._validateSchema(schema.properties[i],value[i],path+"."+i)));if(schema.patternProperties)for(i in schema.patternProperties)if(schema.patternProperties.hasOwnProperty(i)){var regex=new RegExp(i);for(j in value)value.hasOwnProperty(j)&&regex.test(j)&&(validated_properties[j]=!0,errors=errors.concat(this._validateSchema(schema.patternProperties[i],value[j],path+"."+j)))}if(void 0!==schema.additionalProperties||!this.jsoneditor.options.no_additional_properties||schema.oneOf||schema.anyOf||(schema.additionalProperties=!1),void 0!==schema.additionalProperties)for(i in value)if(value.hasOwnProperty(i)&&!validated_properties[i]){if(!schema.additionalProperties){errors.push({path:path,property:"additionalProperties",message:this.translate("error_additional_properties",[i])});break}if(!0===schema.additionalProperties)break;errors=errors.concat(this._validateSchema(schema.additionalProperties,value[i],path+"."+i))}if(schema.dependencies)for(i in schema.dependencies)if(schema.dependencies.hasOwnProperty(i)&&void 0!==value[i])if(Array.isArray(schema.dependencies[i]))for(j=0;j<schema.dependencies[i].length;j++)void 0===value[schema.dependencies[i][j]]&&errors.push({path:path,property:"dependencies",message:this.translate("error_dependency",[schema.dependencies[i][j]])});else errors=errors.concat(this._validateSchema(schema.dependencies[i],value,path))}return $each(JSONEditor.defaults.custom_validators,function(i,validator){errors=errors.concat(validator.call(self,schema,value,path))}),this.options.custom_validators&&$each(this.options.custom_validators,function(i,validator){errors=errors.concat(validator.call(self,schema,value,path))}),errors},_checkType:function(type,value){return"string"==typeof type?"string"===type?"string"==typeof value:"number"===type?"number"==typeof value:"integer"===type?"number"==typeof value&&value===Math.floor(value):"boolean"===type?"boolean"==typeof value:"array"===type?Array.isArray(value):"object"===type?null!==value&&!Array.isArray(value)&&"object"==typeof value:"null"!==type||null===value:!this._validateSchema(type,value).length}}),JSONEditor.AbstractEditor=Class.extend({onChildEditorChange:function(editor){this.onChange(!0)},notify:function(){this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange()},onChange:function(bubble){this.notify(),this.watch_listener&&this.watch_listener(),bubble&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(options){this.jsoneditor=options.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||JSONEditor.defaults.translate,this.original_schema=options.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=$extend({},this.options||{},options.schema.options||{},options),options.path||this.schema.id||(this.schema.id="root"),this.path=options.path||"root",this.formname=options.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=options.parent,this.link_watchers=[],options.container&&this.setContainer(options.container)},setContainer:function(container){this.container=container,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var self=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){self.refreshWatchedFieldValues()&&self.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch")){var path,path_parts,first,root,adjusted_path;for(var name in this.schema.watch)if(this.schema.watch.hasOwnProperty(name)){if(path=this.schema.watch[name],Array.isArray(path)){if(path.length<2)continue;path_parts=[path[0]].concat(path[1].split("."))}else path_parts=path.split("."),self.theme.closest(self.container,'[data-schemaid="'+path_parts[0]+'"]')||path_parts.unshift("#");if(first=path_parts.shift(),"#"===first&&(first=self.jsoneditor.schema.id||"root"),!(root=self.theme.closest(self.container,'[data-schemaid="'+first+'"]')))throw"Could not find ancestor node with id "+first;adjusted_path=root.getAttribute("data-schemapath")+"."+path_parts.join("."),self.jsoneditor.watch(adjusted_path,self.watch_listener),self.watched[name]=adjusted_path}}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var i=0;i<this.schema.links.length;i++)this.addLink(this.getLink(this.schema.links[i]))},getButton:function(text,icon,title){var btnClass="json-editor-btn-"+icon;!(icon=this.iconlib?this.iconlib.getIcon(icon):null)&&title&&(text=title,title=null);var btn=this.theme.getButton(text,icon,title);return btn.className+=" "+btnClass+" ",btn},setButtonText:function(button,text,icon,title){return icon=this.iconlib?this.iconlib.getIcon(icon):null,!icon&&title&&(text=title,title=null),this.theme.setButtonText(button,text,icon,title)},addLink:function(link){this.link_holder&&this.link_holder.appendChild(link)},getLink:function(data){var holder,link,mime=data.mediaType||"application/javascript",type=mime.split("/")[0],href=this.jsoneditor.compileTemplate(data.href,this.template_engine),download=null;if(data.download&&(download=data.download),download&&!0!==download&&(download=this.jsoneditor.compileTemplate(download,this.template_engine)),"image"===type){holder=this.theme.getBlockLinkHolder(),link=document.createElement("a"),link.setAttribute("target","_blank");var image=document.createElement("img");this.theme.createImageLink(holder,link,image),this.link_watchers.push(function(vars){var url=href(vars);link.setAttribute("href",url),link.setAttribute("title",data.rel||url),image.setAttribute("src",url)})}else if(["audio","video"].indexOf(type)>=0){holder=this.theme.getBlockLinkHolder(),link=this.theme.getBlockLink(),link.setAttribute("target","_blank");var media=document.createElement(type);media.setAttribute("controls","controls"),this.theme.createMediaLink(holder,link,media),this.link_watchers.push(function(vars){var url=href(vars);link.setAttribute("href",url),link.textContent=data.rel||url,media.setAttribute("src",url)})}else link=holder=this.theme.getBlockLink(),holder.setAttribute("target","_blank"),holder.textContent=data.rel,this.link_watchers.push(function(vars){var url=href(vars);holder.setAttribute("href",url),holder.textContent=data.rel||url});return download&&link&&(!0===download?link.setAttribute("download",""):this.link_watchers.push(function(vars){link.setAttribute("download",download(vars))})),data.class&&(link.className=link.className+" "+data.class),holder},refreshWatchedFieldValues:function(){if(this.watched_values){var watched={},changed=!1,self=this;if(this.watched){var val,editor;for(var name in this.watched)this.watched.hasOwnProperty(name)&&(editor=self.jsoneditor.getEditor(this.watched[name]),val=editor?editor.getValue():null,self.watched_values[name]!==val&&(changed=!0),watched[name]=val)}return watched.self=this.getValue(),this.watched_values.self!==watched.self&&(changed=!0),this.watched_values=watched,changed}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var i=0;i<this.header.childNodes.length;i++)if(3===this.header.childNodes[i].nodeType){this.header.childNodes[i].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(title_only){return this.header_text?this.header_text:title_only?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var vars;if(this.header_template){vars=$extend(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var header_text=this.header_template(vars);header_text!==this.header_text&&(this.header_text=header_text,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){vars=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](vars)}},setValue:function(value){this.value=value},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var self=this;this.unregister(this),$each(this.watched,function(name,adjusted_path){self.jsoneditor.unwatch(adjusted_path,self.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var type=this.schema.type||this.schema.oneOf;if(type&&Array.isArray(type)&&(type=type[0]),type&&"object"==typeof type&&(type=type.type),type&&Array.isArray(type)&&(type=type[0]),"string"==typeof type){if("number"===type)return 0;if("boolean"===type)return!1;if("integer"===type)return 0;if("string"===type)return"";if("object"===type)return{};if("array"===type)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:!!this.jsoneditor.options.required_by_default},getDisplayText:function(arr){var disp=[],used={};$each(arr,function(i,el){el.title&&(used[el.title]=used[el.title]||0,used[el.title]++),el.description&&(used[el.description]=used[el.description]||0,used[el.description]++),el.format&&(used[el.format]=used[el.format]||0,used[el.format]++),el.type&&(used[el.type]=used[el.type]||0,used[el.type]++)}),$each(arr,function(i,el){var name;name="string"==typeof el?el:el.title&&used[el.title]<=1?el.title:el.format&&used[el.format]<=1?el.format:el.type&&used[el.type]<=1?el.type:el.description&&used[el.description]<=1?el.descripton:el.title?el.title:el.format?el.format:el.type?el.type:el.description?el.description:JSON.stringify(el).length<50?JSON.stringify(el):"type",disp.push(name)});var inc={};return $each(disp,function(i,name){inc[name]=inc[name]||0,inc[name]++,used[name]>1&&(disp[i]=name+" "+inc[name])}),disp},getOption:function(key){try{throw"getOption is deprecated"}catch(e){window.console.error(e)}return this.options[key]},showValidationErrors:function(errors){}}),JSONEditor.defaults.editors.null=JSONEditor.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.string=JSONEditor.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(value,initial,from_template){if((!this.template||from_template)&&(null===value||void 0===value?value="":"object"==typeof value?value=JSON.stringify(value):"string"!=typeof value&&(value=""+value),value!==this.serialized)){var sanitized=this.sanitize(value);if(this.input.value!==sanitized){this.input.value=sanitized,this.sceditor_instance?this.sceditor_instance.val(sanitized):this.epiceditor?this.epiceditor.importFile(null,sanitized):this.ace_editor&&this.ace_editor.setValue(sanitized);var changed=from_template||this.getValue()!==value;this.refreshValue(),initial?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(changed)}}},getNumColumns:function(){var num,min=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return num="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(min,num))},build:function(){var self=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var min=this.schema.minimum||0,max=this.schema.maximum||Math.max(100,min+1),step=1;this.schema.multipleOf&&(min%this.schema.multipleOf&&(min=Math.ceil(min/this.schema.multipleOf)*this.schema.multipleOf),max%this.schema.multipleOf&&(max=Math.floor(max/this.schema.multipleOf)*this.schema.multipleOf),step=this.schema.multipleOf),this.input=this.theme.getRangeInput(min,max,step)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),self.schema.template)return void(this.value=self.value);var val=this.value,sanitized=self.sanitize(val);val!==sanitized&&(this.value=sanitized),self.is_dirty=!0,self.refreshValue(),self.onChange(!0)}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(el){if(el){var i,ch=el.offsetHeight;if(el.offsetHeight<el.scrollHeight)for(i=0;el.offsetHeight<el.scrollHeight+3&&!(i>100);)i++,ch++,el.style.height=ch+"px";else{for(i=0;el.offsetHeight>=el.scrollHeight+3&&!(i>100);)i++,ch--,el.style.height=ch+"px";el.style.height=ch+1+"px"}}},this.input.addEventListener("keyup",function(e){self.adjust_height(this)}),this.input.addEventListener("change",function(e){self.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),window.requestAnimationFrame(function(){self.input.parentNode&&self.afterInputReady(),self.adjust_height&&self.adjust_height(self.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var options,self=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)options=$extend({},{plugins:"html"===self.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},JSONEditor.plugins.sceditor,self.options.sceditor_options||{}),window.jQuery(self.input).sceditor(options),self.sceditor_instance=window.jQuery(self.input).sceditor("instance"),self.sceditor_instance.blur(function(){var val=window.jQuery("<div>"+self.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",val).remove(),self.input.value=val.html(),self.value=self.input.value,self.is_dirty=!0,self.onChange(!0)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",options=$extend({},JSONEditor.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(options).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var val=self.epiceditor.exportFile();self.input.value=val,self.value=val,self.is_dirty=!0,self.onChange(!0)});else if(window.ace){var mode=this.input_type;"cpp"!==mode&&"c++"!==mode&&"c"!==mode||(mode="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),JSONEditor.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+JSONEditor.plugins.ace.theme),["actionscript","batchfile","bbcode","c","c++","cpp","c_cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0&&(console.log("Mode ACE Editor: '"+mode+"'"),this.ace_editor.session.setMode("ace/mode/"+mode)),this.ace_editor.on("change",function(){var val=self.ace_editor.getValue();self.input.value=val,self.refreshValue(),self.is_dirty=!0,self.onChange(!0)})}self.theme.afterInputReady(self.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(value){return value},onWatchedFieldChange:function(){var vars;this.template&&(vars=this.getWatchedFieldValues(),this.setValue(this.template(vars),!1,!0)),this._super()},showValidationErrors:function(errors){var self=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var messages=[];$each(errors,function(i,error){error.path===self.path&&messages.push(error.message)}),messages.length?this.theme.addInputError(this.input,messages.join(". ")+"."):this.theme.removeInputError(this.input)}}),JSONEditor.defaults.editors.hidden=JSONEditor.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(value,initial,from_template){if((!this.template||from_template)&&(null===value||void 0===value?value="":"object"==typeof value?value=JSON.stringify(value):"string"!=typeof value&&(value=""+value),value!==this.serialized)){var sanitized=this.sanitize(value);if(this.input.value!==sanitized){this.input.value=sanitized;var changed=from_template||this.getValue()!==value;this.refreshValue(),initial?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(changed)}}},getNumColumns:function(){return 2},enable:function(){this._super()},disable:function(){this._super()},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(value){return value},onWatchedFieldChange:function(){var vars;this.template&&(vars=this.getWatchedFieldValues(),this.setValue(this.template(vars),!1,!0)),this._super()},build:function(){this.format=this.schema.format,!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.input_type="hidden",this.input=this.theme.getFormInputField(this.input_type),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.container.appendChild(this.input),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()}}),JSONEditor.defaults.editors.number=JSONEditor.defaults.editors.string.extend({sanitize:function(value){return(value+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),JSONEditor.defaults.editors.integer=JSONEditor.defaults.editors.number.extend({sanitize:function(value){return value+="",value.replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),JSONEditor.defaults.editors.object=JSONEditor.AbstractEditor.extend({getDefault:function(){return $extend({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].register()},unregister:function(){if(this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var i in this.editors)this.editors.hasOwnProperty(i)&&this.editors[i].disable()},layoutEditors:function(){var i,j,self=this;if(this.row_container){this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(a,b){var ordera=self.editors[a].schema.propertyOrder,orderb=self.editors[b].schema.propertyOrder;return"number"!=typeof ordera&&(ordera=1e3),"number"!=typeof orderb&&(orderb=1e3),ordera-orderb});var container;if("grid"===this.format){var rows=[];for($each(this.property_order,function(j,key){var editor=self.editors[key];if(!editor.property_removed){for(var found=!1,width=editor.options.hidden?0:editor.options.grid_columns||editor.getNumColumns(),height=editor.options.hidden?0:editor.container.offsetHeight,i=0;i<rows.length;i++)rows[i].width+width<=12&&(!height||.5*rows[i].minh<height&&2*rows[i].maxh>height)&&(found=i);!1===found&&(rows.push({width:0,minh:999999,maxh:0,editors:[]}),found=rows.length-1),rows[found].editors.push({key:key,width:width,height:height}),rows[found].width+=width,rows[found].minh=Math.min(rows[found].minh,height),rows[found].maxh=Math.max(rows[found].maxh,height)}}),i=0;i<rows.length;i++)if(rows[i].width<12){var biggest=!1,new_width=0;for(j=0;j<rows[i].editors.length;j++)!1===biggest?biggest=j:rows[i].editors[j].width>rows[i].editors[biggest].width&&(biggest=j),rows[i].editors[j].width*=12/rows[i].width,rows[i].editors[j].width=Math.floor(rows[i].editors[j].width),new_width+=rows[i].editors[j].width;new_width<12&&(rows[i].editors[biggest].width+=12-new_width),rows[i].width=12}if(this.layout===JSON.stringify(rows))return!1;for(this.layout=JSON.stringify(rows),container=document.createElement("div"),i=0;i<rows.length;i++){var row=this.theme.getGridRow();for(container.appendChild(row),j=0;j<rows[i].editors.length;j++){var key=rows[i].editors[j].key,editor=this.editors[key];editor.options.hidden?editor.container.style.display="none":this.theme.setGridColumnSize(editor.container,rows[i].editors[j].width),row.appendChild(editor.container)}}}else container=document.createElement("div"),$each(this.property_order,function(i,key){var editor=self.editors[key];if(!editor.property_removed){var row=self.theme.getGridRow();container.appendChild(row),editor.options.hidden?editor.container.style.display="none":self.theme.setGridColumnSize(editor.container,12),row.appendChild(editor.container)}});this.row_container.innerHTML="",this.row_container.appendChild(container)}},getPropertySchema:function(key){var schema=this.schema.properties[key]||{};schema=$extend({},schema);var matched=!!this.schema.properties[key];if(this.schema.patternProperties)for(var i in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(i)){var regex=new RegExp(i);regex.test(key)&&(schema.allOf=schema.allOf||[],schema.allOf.push(this.schema.patternProperties[i]),matched=!0)}return!matched&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(schema=$extend({},this.schema.additionalProperties)),schema},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var self=this
;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)$each(this.schema.properties,function(key,schema){var editor=self.jsoneditor.getEditorClass(schema);self.editors[key]=self.jsoneditor.createEditor(editor,{jsoneditor:self.jsoneditor,schema:schema,path:self.path+"."+key,parent:self,compact:!0,required:!0}),self.editors[key].preBuild();var width=self.editors[key].options.hidden?0:self.editors[key].options.grid_columns||self.editors[key].getNumColumns();self.minwidth+=width,self.maxwidth+=width}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],$each(this.schema.properties,function(k,s){self.isRequired({key:k,schema:s})&&self.schema.defaultProperties.push(k)})):self.schema.defaultProperties=Object.keys(self.schema.properties)),self.maxwidth+=1,$each(this.schema.defaultProperties,function(i,key){self.addObjectProperty(key,!0),self.editors[key]&&(self.minwidth=Math.max(self.minwidth,self.editors[key].options.grid_columns||self.editors[key].getNumColumns()),self.maxwidth+=self.editors[key].options.grid_columns||self.editors[key].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(a,b){var ordera=self.editors[a].schema.propertyOrder,orderb=self.editors[b].schema.propertyOrder;return"number"!=typeof ordera&&(ordera=1e3),"number"!=typeof orderb&&(orderb=1e3),ordera-orderb})},build:function(){var self=this;if(this.options.table_row)this.editor_holder=this.container,$each(this.editors,function(key,editor){var holder=self.theme.getTableCell();self.editor_holder.appendChild(holder),editor.setContainer(holder),editor.build(),editor.postBuild(),self.editors[key].options.hidden&&(holder.style.display="none"),self.editors[key].options.input_width&&(holder.style.width=self.editors[key].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),self.addproperty_input.value){if(self.editors[self.addproperty_input.value])return void window.alert("there is already a property with that name");self.addObjectProperty(self.addproperty_input.value),self.editors[self.addproperty_input.value]&&self.editors[self.addproperty_input.value].disable(),self.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var spacer=document.createElement("div");spacer.style.clear="both",this.addproperty_holder.appendChild(spacer),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),$each(this.editors,function(key,editor){var holder=self.theme.getGridColumn();self.row_container.appendChild(holder),editor.setContainer(holder),editor.build(),editor.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.editor_holder.style.display="",self.collapsed=!1,self.setButtonText(self.toggle_button,"","collapse",self.translate("button_collapse"))):(self.editor_holder.style.display="none",self.collapsed=!0,self.setButtonText(self.toggle_button,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,$each(this.property_order,function(i,key){self.editor_holder.appendChild(self.editors[key].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var json=JSON.parse(this.editjson_textarea.value);this.setValue(json),this.hideEditJSON()}catch(e){throw window.alert("invalid JSON"),e}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(property,control,container){var propertyOrder;this.schema.properties[property]&&(propertyOrder=this.schema.properties[property].propertyOrder),"number"!=typeof propertyOrder&&(propertyOrder=1e3),control.propertyOrder=propertyOrder;for(var i=0;i<container.childNodes.length;i++){var child=container.childNodes[i];if(control.propertyOrder<child.propertyOrder){this.addproperty_list.insertBefore(control,child),control=null;break}}control&&this.addproperty_list.appendChild(control)},addPropertyCheckbox:function(key){var checkbox,label,labelText,control,self=this;return checkbox=self.theme.getCheckbox(),checkbox.style.width="auto",labelText=this.schema.properties[key]&&this.schema.properties[key].title?this.schema.properties[key].title:key,label=self.theme.getCheckboxLabel(labelText),control=self.theme.getFormControl(label,checkbox),control.style.paddingBottom=control.style.marginBottom=control.style.paddingTop=control.style.marginTop=0,control.style.height="auto",this.insertPropertyControlUsingPropertyOrder(key,control,this.addproperty_list),checkbox.checked=key in this.editors,checkbox.addEventListener("change",function(){checkbox.checked?self.addObjectProperty(key):self.removeObjectProperty(key),self.onChange(!0)}),self.addproperty_checkboxes[key]=checkbox,checkbox},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(property){this.editors[property]&&(this.editors[property].unregister(),delete this.editors[property],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(name,prebuild_only){var self=this;if(!this.editors[name]){if(this.cached_editors[name]){if(this.editors[name]=this.cached_editors[name],prebuild_only)return;this.editors[name].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[name]))return;var schema=self.getPropertySchema(name),editor=self.jsoneditor.getEditorClass(schema);if(self.editors[name]=self.jsoneditor.createEditor(editor,{jsoneditor:self.jsoneditor,schema:schema,path:self.path+"."+name,parent:self}),self.editors[name].preBuild(),!prebuild_only){var holder=self.theme.getChildEditorHolder();self.editor_holder.appendChild(holder),self.editors[name].setContainer(holder),self.editors[name].build(),self.editors[name].postBuild()}self.cached_editors[name]=self.editors[name]}prebuild_only||(self.refreshValue(),self.layoutEditors())}},onChildEditorChange:function(editor){this.refreshValue(),this._super(editor)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){$each(this.cached_editors,function(i,el){el.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){var result=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var i in result)result.hasOwnProperty(i)&&(result[i]||delete result[i]);return result},refreshValue:function(){this.value={};for(var i in this.editors)this.editors.hasOwnProperty(i)&&(this.value[i]=this.editors[i].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)return void(this.addproperty_controls.style.display="none");var i,can_add=!1,num_props=0,show_modal=!1;for(i in this.editors)this.editors.hasOwnProperty(i)&&num_props++;can_add=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&num_props>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={};for(i in this.cached_editors)this.cached_editors.hasOwnProperty(i)&&(this.addPropertyCheckbox(i),this.isRequired(this.cached_editors[i])&&i in this.editors&&(this.addproperty_checkboxes[i].disabled=!0),void 0!==this.schema.minProperties&&num_props<=this.schema.minProperties?(this.addproperty_checkboxes[i].disabled=this.addproperty_checkboxes[i].checked,this.addproperty_checkboxes[i].checked||(show_modal=!0)):i in this.editors?(show_modal=!0,!0):can_add||this.schema.properties.hasOwnProperty(i)?(this.addproperty_checkboxes[i].disabled=!1,show_modal=!0):this.addproperty_checkboxes[i].disabled=!0);this.canHaveAdditionalProperties()&&(show_modal=!0);for(i in this.schema.properties)this.schema.properties.hasOwnProperty(i)&&(this.cached_editors[i]||(show_modal=!0,this.addPropertyCheckbox(i)));show_modal?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!can_add:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")},isRequired:function(editor){return"boolean"==typeof editor.schema.required?editor.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(editor.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(value,initial){var self=this;value=value||{},("object"!=typeof value||Array.isArray(value))&&(value={}),$each(this.cached_editors,function(i,editor){void 0!==value[i]?(self.addObjectProperty(i),editor.setValue(value[i],initial)):initial||self.isRequired(editor)?editor.setValue(editor.getDefault(),initial):self.removeObjectProperty(i)}),$each(value,function(i,val){self.cached_editors[i]||(self.addObjectProperty(i),self.editors[i]&&self.editors[i].setValue(val,initial))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none";this.options.table_row&&(my_errors.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),$each(this.editors,function(i,editor){editor.showValidationErrors(other_errors)})}}),JSONEditor.defaults.editors.array=JSONEditor.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].register()},unregister:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].unregister()},getNumColumns:function(){var info=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,info.width+2),4):info.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].enable(),this.rows[i].moveup_button&&(this.rows[i].moveup_button.disabled=!1),this.rows[i].movedown_button&&(this.rows[i].movedown_button.disabled=!1),this.rows[i].delete_button&&(this.rows[i].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].disable(),this.rows[i].moveup_button&&(this.rows[i].moveup_button.disabled=!0),this.rows[i].movedown_button&&(this.rows[i].movedown_button.disabled=!0),this.rows[i].delete_button&&(this.rows[i].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(editor){this.refreshValue(),this.refreshTabs(!0),this._super(editor)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var tmp=this.jsoneditor.expandRefs(this.schema.items);this.item_title=tmp.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(i){return Array.isArray(this.schema.items)?i>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?$extend({},this.schema.additionalItems):void 0:$extend({},this.schema.items[i]):this.schema.items?$extend({},this.schema.items):{}},getItemInfo:function(i){var schema=this.getItemSchema(i);this.item_info=this.item_info||{};var stringified=JSON.stringify(schema);return void 0!==this.item_info[stringified]?this.item_info[stringified]:(schema=this.jsoneditor.expandRefs(schema),this.item_info[stringified]={title:schema.title||"item",default:schema.default,width:12,child_editors:schema.properties||schema.items},this.item_info[stringified])},getElementEditor:function(i){var item_info=this.getItemInfo(i),schema=this.getItemSchema(i);schema=this.jsoneditor.expandRefs(schema),schema.title=item_info.title+" "+(i+1);var holder,editor=this.jsoneditor.getEditorClass(schema);holder=this.tabs_holder?this.theme.getTabContent():item_info.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(holder);var ret=this.jsoneditor.createEditor(editor,{jsoneditor:this.jsoneditor,schema:schema,container:holder,path:this.path+"."+i,parent:this,required:!0});return ret.preBuild(),ret.build(),ret.postBuild(),ret.title_controls||(ret.array_controls=this.theme.getButtonHolder(),holder.appendChild(ret.array_controls)),ret},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(hard){if(this.rows){var self=this;$each(this.rows,function(i,row){hard&&(row.tab&&row.tab.parentNode&&row.tab.parentNode.removeChild(row.tab),self.destroyRow(row,!0),self.row_cache[i]=null),self.rows[i]=null}),self.rows=[],hard&&(self.row_cache=[])}},destroyRow:function(row,hard){var holder=row.container;hard?(row.destroy(),holder.parentNode&&holder.parentNode.removeChild(holder),row.tab&&row.tab.parentNode&&row.tab.parentNode.removeChild(row.tab)):(row.tab&&(row.tab.style.display="none"),holder.style.display="none",row.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(refresh_headers){var self=this;$each(this.rows,function(i,row){row.tab&&(refresh_headers?row.tab_text.textContent=row.getHeaderText():row.tab===self.active_tab?(self.theme.markTabActive(row.tab),row.container.style.display=""):(self.theme.markTabInactive(row.tab),row.container.style.display="none"))})},setValue:function(value,initial){if(value=value||[],Array.isArray(value)||(value=[value]),JSON.stringify(value)!==this.serialized){if(this.schema.minItems)for(;value.length<this.schema.minItems;)value.push(this.getItemInfo(value.length).default);this.getMax()&&value.length>this.getMax()&&(value=value.slice(0,this.getMax()));var self=this;$each(value,function(i,val){self.rows[i]?self.rows[i].setValue(val,initial):self.row_cache[i]?(self.rows[i]=self.row_cache[i],self.rows[i].setValue(val,initial),self.rows[i].container.style.display="",self.rows[i].tab&&(self.rows[i].tab.style.display=""),self.rows[i].register()):self.addRow(val,initial)});for(var j=value.length;j<self.rows.length;j++)self.destroyRow(self.rows[j]),self.rows[j]=null;self.rows=self.rows.slice(0,value.length);var new_active_tab=null;$each(self.rows,function(i,row){if(row.tab===self.active_tab)return new_active_tab=row.tab,!1}),!new_active_tab&&self.rows.length&&(new_active_tab=self.rows[0].tab),self.active_tab=new_active_tab,self.refreshValue(initial),self.refreshTabs(!0),self.refreshTabs(),self.onChange()}},refreshValue:function(force){var self=this,oldi=this.value?this.value.length:0;if(this.value=[],$each(this.rows,function(i,editor){self.value[i]=editor.getValue()}),oldi!==this.value.length||force){var minItems=this.schema.minItems&&this.schema.minItems>=this.rows.length;$each(this.rows,function(i,editor){editor.movedown_button&&(i===self.rows.length-1?editor.movedown_button.style.display="none":editor.movedown_button.style.display=""),editor.delete_button&&(editor.delete_button.style.display=minItems?"none":""),self.value[i]=editor.getValue()});var controls_needed=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0)):(minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0),minItems||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",controls_needed=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",controls_needed=!0),!this.collapsed&&controls_needed?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(value,initial){var self=this,i=this.rows.length;self.rows[i]=this.getElementEditor(i),self.row_cache[i]=self.rows[i],self.tabs_holder&&(self.rows[i].tab_text=document.createElement("span"),self.rows[i].tab_text.textContent=self.rows[i].getHeaderText(),self.rows[i].tab=self.theme.getTab(self.rows[i].tab_text),self.rows[i].tab.addEventListener("click",function(e){self.active_tab=self.rows[i].tab,self.refreshTabs(),e.preventDefault(),e.stopPropagation()}),self.theme.addTab(self.tabs_holder,self.rows[i].tab));var controls_holder=self.rows[i].title_controls||self.rows[i].array_controls;self.hide_delete_buttons||(self.rows[i].delete_button=this.getButton(self.getItemTitle(),"delete",this.translate("button_delete_row_title",[self.getItemTitle()])),self.rows[i].delete_button.className+=" delete",self.rows[i].delete_button.setAttribute("data-i",i),self.rows[i].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),value=self.getValue(),newval=[],new_active_tab=null;$each(value,function(j,row){if(j===i)return void(self.rows[j].tab===self.active_tab&&(self.rows[j+1]?new_active_tab=self.rows[j].tab:j&&(new_active_tab=self.rows[j-1].tab)));newval.push(row)}),self.setValue(newval),new_active_tab&&(self.active_tab=new_active_tab,self.refreshTabs()),self.onChange(!0)}),controls_holder&&controls_holder.appendChild(self.rows[i].delete_button)),i&&!self.hide_move_buttons&&(self.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),self.rows[i].moveup_button.className+=" moveup",self.rows[i].moveup_button.setAttribute("data-i",i),self.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var rows=self.getValue(),tmp=rows[i-1];rows[i-1]=rows[i],rows[i]=tmp,self.setValue(rows),self.active_tab=self.rows[i-1].tab,self.refreshTabs(),self.onChange(!0)}}),controls_holder&&controls_holder.appendChild(self.rows[i].moveup_button)),self.hide_move_buttons||(self.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),self.rows[i].movedown_button.className+=" movedown",self.rows[i].movedown_button.setAttribute("data-i",i),self.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),rows=self.getValue();if(!(i>=rows.length-1)){var tmp=rows[i+1];rows[i+1]=rows[i],rows[i]=tmp,self.setValue(rows),self.active_tab=self.rows[i+1].tab,self.refreshTabs(),self.onChange(!0)}}),controls_holder&&controls_holder.appendChild(self.rows[i].movedown_button)),value&&self.rows[i].setValue(value,initial),self.refreshTabs()},addControls:function(){var self=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button);var row_holder_display=self.row_holder.style.display,controls_display=self.controls.style.display;this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.collapsed=!1,self.panel&&(self.panel.style.display=""),self.row_holder.style.display=row_holder_display,self.tabs_holder&&(self.tabs_holder.style.display=""),self.controls.style.display=controls_display,self.setButtonText(this,"","collapse",self.translate("button_collapse"))):(self.collapsed=!0,self.row_holder.style.display="none",self.tabs_holder&&(self.tabs_holder.style.display="none"),self.controls.style.display="none",self.panel&&(self.panel.style.display="none"),self.setButtonText(this,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=self.rows.length;self.row_cache[i]?(self.rows[i]=self.row_cache[i],self.rows[i].setValue(self.rows[i].getDefault(),!0),self.rows[i].container.style.display="",self.rows[i].tab&&(self.rows[i].tab.style.display=""),self.rows[i].register()):self.addRow(),self.active_tab=self.rows[i].tab,self.refreshTabs(),self.refreshValue(),self.onChange(!0)}),self.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var rows=self.getValue(),new_active_tab=null;self.rows.length>1&&self.rows[self.rows.length-1].tab===self.active_tab&&(new_active_tab=self.rows[self.rows.length-2].tab),rows.pop(),self.setValue(rows),new_active_tab&&(self.active_tab=new_active_tab,self.refreshTabs()),self.onChange(!0)}),self.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.setValue([]),self.onChange(!0)}),self.controls.appendChild(this.remove_all_rows_button),self.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none";$each(this.rows,function(i,row){row.showValidationErrors(other_errors)})}}),JSONEditor.defaults.editors.table=JSONEditor.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].register()},unregister:function(){if(this._super(),this.rows)for(var i=0;i<this.rows.length;i++)this.rows[i].unregister()},getNumColumns:function(){
return Math.max(Math.min(12,this.width),3)},preBuild:function(){var item_schema=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=item_schema.title||"row",this.item_default=item_schema.default||null,this.item_has_child_editors=item_schema.properties||item_schema.items,this.width=12,this._super()},build:function(){var self=this;this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var tmp=this.getElementEditor(0,!0);if(this.item_default=tmp.getDefault(),this.width=tmp.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var ce=tmp.getChildEditors(),order=tmp.property_order||Object.keys(ce),i=0;i<order.length;i++){var th=self.theme.getTableHeaderCell(ce[order[i]].getTitle());ce[order[i]].options.hidden&&(th.style.display="none"),self.header_row.appendChild(th)}else self.header_row.appendChild(self.theme.getTableHeaderCell(this.item_title));tmp.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=self.theme.getTableHeaderCell(" "),self.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(editor){this.refreshValue(),this._super()},getItemDefault:function(){return $extend({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(i,ignore){var schema_copy=$extend({},this.schema.items),editor=this.jsoneditor.getEditorClass(schema_copy,this.jsoneditor),row=this.row_holder.appendChild(this.theme.getTableRow()),holder=row;this.item_has_child_editors||(holder=this.theme.getTableCell(),row.appendChild(holder));var ret=this.jsoneditor.createEditor(editor,{jsoneditor:this.jsoneditor,schema:schema_copy,container:holder,path:this.path+"."+i,parent:this,compact:!0,table_row:!0});return ret.preBuild(),ignore||(ret.build(),ret.postBuild(),ret.controls_cell=row.appendChild(this.theme.getTableCell()),ret.row=row,ret.table_controls=this.theme.getButtonHolder(),ret.controls_cell.appendChild(ret.table_controls),ret.table_controls.style.margin=0,ret.table_controls.style.padding=0),ret},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(value,initial){if(value=value||[],this.schema.minItems)for(;value.length<this.schema.minItems;)value.push(this.getItemDefault());if(this.schema.maxItems&&value.length>this.schema.maxItems&&(value=value.slice(0,this.schema.maxItems)),JSON.stringify(value)!==this.serialized){var numrows_changed=!1,self=this;$each(value,function(i,val){self.rows[i]?self.rows[i].setValue(val):(self.addRow(val),numrows_changed=!0)});for(var j=value.length;j<self.rows.length;j++){var holder=self.rows[j].container;self.item_has_child_editors||self.rows[j].row.parentNode.removeChild(self.rows[j].row),self.rows[j].destroy(),holder.parentNode&&holder.parentNode.removeChild(holder),self.rows[j]=null,numrows_changed=!0}self.rows=self.rows.slice(0,value.length),self.refreshValue(),(numrows_changed||initial)&&self.refreshRowButtons(),self.onChange()}},refreshRowButtons:function(){var self=this,minItems=this.schema.minItems&&this.schema.minItems>=this.rows.length,need_row_buttons=!1;$each(this.rows,function(i,editor){editor.movedown_button&&(i===self.rows.length-1?editor.movedown_button.style.display="none":(need_row_buttons=!0,editor.movedown_button.style.display="")),editor.delete_button&&(minItems?editor.delete_button.style.display="none":(need_row_buttons=!0,editor.delete_button.style.display="")),editor.moveup_button&&(need_row_buttons=!0)}),$each(this.rows,function(i,editor){editor.controls_cell.style.display=need_row_buttons?"":"none"}),this.controls_header_cell.style.display=need_row_buttons?"":"none";var controls_needed=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0)):(this.table.style.display="",minItems||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",controls_needed=!0),minItems||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",controls_needed=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",controls_needed=!0),this.controls.style.display=controls_needed?"":"none"},refreshValue:function(){var self=this;this.value=[],$each(this.rows,function(i,editor){self.value[i]=editor.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(value){var self=this,i=this.rows.length;self.rows[i]=this.getElementEditor(i);var controls_holder=self.rows[i].table_controls;this.hide_delete_buttons||(self.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),self.rows[i].delete_button.className+=" delete",self.rows[i].delete_button.setAttribute("data-i",i),self.rows[i].delete_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),value=self.getValue(),newval=[];$each(value,function(j,row){j!==i&&newval.push(row)}),self.setValue(newval),self.onChange(!0)}),controls_holder.appendChild(self.rows[i].delete_button)),i&&!this.hide_move_buttons&&(self.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),self.rows[i].moveup_button.className+=" moveup",self.rows[i].moveup_button.setAttribute("data-i",i),self.rows[i].moveup_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var rows=self.getValue(),tmp=rows[i-1];rows[i-1]=rows[i],rows[i]=tmp,self.setValue(rows),self.onChange(!0)}}),controls_holder.appendChild(self.rows[i].moveup_button)),this.hide_move_buttons||(self.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),self.rows[i].movedown_button.className+=" movedown",self.rows[i].movedown_button.setAttribute("data-i",i),self.rows[i].movedown_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=1*this.getAttribute("data-i"),rows=self.getValue();if(!(i>=rows.length-1)){var tmp=rows[i+1];rows[i+1]=rows[i],rows[i]=tmp,self.setValue(rows),self.onChange(!0)}}),controls_holder.appendChild(self.rows[i].movedown_button)),value&&self.rows[i].setValue(value)},addControls:function(){var self=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.collapsed?(self.collapsed=!1,self.panel.style.display="",self.setButtonText(this,"","collapse",self.translate("button_collapse"))):(self.collapsed=!0,self.panel.style.display="none",self.setButtonText(this,"","expand",self.translate("button_expand")))}),this.options.collapsed&&$trigger(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.addRow(),self.refreshValue(),self.refreshRowButtons(),self.onChange(!0)}),self.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var rows=self.getValue();rows.pop(),self.setValue(rows),self.onChange(!0)}),self.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),self.setValue([]),self.onChange(!0)}),self.controls.appendChild(this.remove_all_rows_button)}}),JSONEditor.defaults.editors.multiple=JSONEditor.AbstractEditor.extend({register:function(){if(this.editors){for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var i=0;i<this.editors.length;i++)this.editors[i]&&this.editors[i].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(i){var self=this;this.editors[i]||this.buildChildEditor(i);var current_value=self.getValue();self.type=i,self.register(),$each(self.editors,function(type,editor){editor&&(self.type===type?(self.keep_values&&editor.setValue(current_value,!0),editor.container.style.display=""):editor.container.style.display="none")}),self.refreshValue(),self.refreshHeaderText()},buildChildEditor:function(i){var self=this,type=this.types[i],holder=self.theme.getChildEditorHolder();self.editor_holder.appendChild(holder);var schema;"string"==typeof type?(schema=$extend({},self.schema),schema.type=type):(schema=$extend({},self.schema,type),schema=self.jsoneditor.expandRefs(schema),type.required&&Array.isArray(type.required)&&self.schema.required&&Array.isArray(self.schema.required)&&(schema.required=self.schema.required.concat(type.required)));var editor=self.jsoneditor.getEditorClass(schema);self.editors[i]=self.jsoneditor.createEditor(editor,{jsoneditor:self.jsoneditor,schema:schema,container:holder,path:self.path,parent:self,required:!0}),self.editors[i].preBuild(),self.editors[i].build(),self.editors[i].postBuild(),self.editors[i].header&&(self.editors[i].header.style.display="none"),self.editors[i].option=self.switcher_options[i],holder.addEventListener("change_header_text",function(){self.refreshHeaderText()}),i!==self.type&&(holder.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var disallow=this.schema.disallow;"object"==typeof disallow&&Array.isArray(disallow)||(disallow=[disallow]);var allowed_types=[];$each(this.types,function(i,type){-1===disallow.indexOf(type)&&allowed_types.push(type)}),this.types=allowed_types}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var self=this,container=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),container.appendChild(this.switcher),this.switcher.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.switchEditor(self.display_text.indexOf(this.value)),self.onChange(!0)}),this.editor_holder=document.createElement("div"),container.appendChild(this.editor_holder);var validator_options={};self.jsoneditor.options.custom_validators&&(validator_options.custom_validators=self.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),$each(this.types,function(i,type){self.editors[i]=!1;var schema;"string"==typeof type?(schema=$extend({},self.schema),schema.type=type):(schema=$extend({},self.schema,type),type.required&&Array.isArray(type.required)&&self.schema.required&&Array.isArray(self.schema.required)&&(schema.required=self.schema.required.concat(type.required))),self.validators[i]=new JSONEditor.Validator(self.jsoneditor,schema,validator_options)}),this.switchEditor(0)},onChildEditorChange:function(editor){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var display_text=this.getDisplayText(this.types);$each(this.switcher_options,function(i,option){option.textContent=display_text[i]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(val,initial){var self=this;$each(this.validators,function(i,validator){if(!validator.validate(val).length)return self.type=i,self.switcher.value=self.display_text[i],!1}),this.switchEditor(this.type),this.editors[this.type].setValue(val,initial),this.refreshValue(),self.onChange()},destroy:function(){$each(this.editors,function(type,editor){editor&&editor.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(errors){var self=this;if(this.oneOf||this.anyOf){var check_part=this.oneOf?"oneOf":"anyOf";$each(this.editors,function(i,editor){if(editor){var check=self.path+"."+check_part+"["+i+"]",new_errors=[];$each(errors,function(j,error){if(error.path.substr(0,check.length)===check){var new_error=$extend({},error);new_error.path=self.path+new_error.path.substr(check.length),new_errors.push(new_error)}}),editor.showValidationErrors(new_errors)}})}else $each(this.editors,function(type,editor){editor&&editor.showValidationErrors(errors)})}}),JSONEditor.defaults.editors.enum=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container;this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var self=this,i=0;i<this.enum.length;i++)this.select_options[i]=this.options.enum_titles[i]||"Value "+(i+1),this.html_values[i]=this.getHTML(this.enum[i]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){self.selected=self.select_options.indexOf(this.value),self.value=self.enum[self.selected],self.refreshValue(),self.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var self=this;self.selected=-1;var stringified=JSON.stringify(this.value);if($each(this.enum,function(i,el){if(stringified===JSON.stringify(el))return self.selected=i,!1}),self.selected<0)return void self.setValue(self.enum[0]);this.switcher.value=this.select_options[this.selected],this.display_area.innerHTML=this.html_values[this.selected]},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(el){var self=this;if(null===el)return"<em>null</em>";if("object"==typeof el){var ret="";return $each(el,function(i,child){var html=self.getHTML(child);Array.isArray(el)||(html="<div><em>"+i+"</em>: "+html+"</div>"),ret+="<li>"+html+"</li>"}),ret=Array.isArray(el)?"<ol>"+ret+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+ret+"</ul>"}return"boolean"==typeof el?el?"true":"false":"string"==typeof el?el.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):el},setValue:function(val){this.value!==val&&(this.value=val,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),JSONEditor.defaults.editors.select=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){value=this.typecast(value||"");var sanitized=value;this.enum_values.indexOf(sanitized)<0&&(sanitized=this.enum_values[0]),this.value!==sanitized&&(this.input.value=this.enum_options[this.enum_values.indexOf(sanitized)],this.select2&&this.select2.select2("val",this.input.value),this.value=sanitized,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var longest_text=this.getTitle().length,i=0;i<this.enum_options.length;i++)longest_text=Math.max(longest_text,this.enum_options[i].length+4);return Math.min(12,Math.max(longest_text/7,2))},typecast:function(value){return"boolean"===this.schema.type?!!value:"number"===this.schema.type?1*value:"integer"===this.schema.type?Math.floor(1*value):""+value},getValue:function(){return this.value},preBuild:function(){var self=this;this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[];var i;if(this.schema.enum){var display=this.schema.options&&this.schema.options.enum_titles||[];$each(this.schema.enum,function(i,option){self.enum_options[i]=""+option,self.enum_display[i]=""+(display[i]||option),self.enum_values[i]=self.typecast(option)}),this.isRequired()||(self.enum_display.unshift(" "),self.enum_options.unshift("undefined"),self.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)self.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],self.enum_options=["1",""],self.enum_values=[!0,!1],this.isRequired()||(self.enum_display.unshift(" "),self.enum_options.unshift("undefined"),self.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(i=0;i<this.schema.enumSource.length;i++)"string"==typeof this.schema.enumSource[i]?this.enumSource[i]={source:this.schema.enumSource[i]}:Array.isArray(this.schema.enumSource[i])?this.enumSource[i]=this.schema.enumSource[i]:this.enumSource[i]=$extend({},this.schema.enumSource[i]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(i=0;i<this.enumSource.length;i++)this.enumSource[i].value&&(this.enumSource[i].value=this.jsoneditor.compileTemplate(this.enumSource[i].value,this.template_engine)),this.enumSource[i].title&&(this.enumSource[i].title=this.jsoneditor.compileTemplate(this.enumSource[i].title,this.template_engine)),this.enumSource[i].filter&&(this.enumSource[i].filter=this.jsoneditor.compileTemplate(this.enumSource[i].filter,this.template_engine))}},build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var new_val,val=this.input.value;(new_val=-1===this.enum_options.indexOf(val)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(val)])!==this.value&&(this.value=new_val,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var options=$extend({},JSONEditor.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(options=$extend(options,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(options);var self=this;this.select2.on("select2-blur",function(){self.input.value=self.select2.select2("val"),self.onInputChange()}),this.select2.on("change",function(){self.input.value=self.select2.select2("val"),self.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var vars,j;if(this.enumSource){vars=this.getWatchedFieldValues();for(var select_options=[],select_titles=[],i=0;i<this.enumSource.length;i++)if(Array.isArray(this.enumSource[i]))select_options=select_options.concat(this.enumSource[i]),select_titles=select_titles.concat(this.enumSource[i]);else{var items=[];if(items=Array.isArray(this.enumSource[i].source)?this.enumSource[i].source:vars[this.enumSource[i].source]){if(this.enumSource[i].slice&&(items=Array.prototype.slice.apply(items,this.enumSource[i].slice)),this.enumSource[i].filter){var new_items=[];for(j=0;j<items.length;j++)this.enumSource[i].filter({i:j,item:items[j],watched:vars})&&new_items.push(items[j]);items=new_items}var item_titles=[],item_values=[];for(j=0;j<items.length;j++){var item=items[j];this.enumSource[i].value?item_values[j]=this.enumSource[i].value({i:j,item:item}):item_values[j]=items[j],this.enumSource[i].title?item_titles[j]=this.enumSource[i].title({i:j,item:item}):item_titles[j]=item_values[j]}select_options=select_options.concat(item_values),select_titles=select_titles.concat(item_titles)}}var prev_value=this.value;this.theme.setSelectOptions(this.input,select_options,select_titles),this.enum_options=select_options,this.enum_display=select_titles,this.enum_values=select_options,this.select2&&this.select2.select2("destroy"),-1!==select_options.indexOf(prev_value)?(this.input.value=prev_value,this.value=prev_value):(this.input.value=select_options[0],this.value=select_options[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),JSONEditor.defaults.editors.selectize=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){value=this.typecast(value||"");var sanitized=value;this.enum_values.indexOf(sanitized)<0&&(sanitized=this.enum_values[0]),this.value!==sanitized&&(this.input.value=this.enum_options[this.enum_values.indexOf(sanitized)],this.selectize&&this.selectize[0].selectize.addItem(sanitized),this.value=sanitized,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var longest_text=this.getTitle().length,i=0;i<this.enum_options.length;i++)longest_text=Math.max(longest_text,this.enum_options[i].length+4);return Math.min(12,Math.max(longest_text/7,2))},typecast:function(value){return"boolean"===this.schema.type?!!value:"number"===this.schema.type?1*value:"integer"===this.schema.type?Math.floor(1*value):""+value},getValue:function(){return this.value},preBuild:function(){var self=this;this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[];var i;if(this.schema.enum){var display=this.schema.options&&this.schema.options.enum_titles||[];$each(this.schema.enum,function(i,option){self.enum_options[i]=""+option,self.enum_display[i]=""+(display[i]||option),self.enum_values[i]=self.typecast(option)})}else if("boolean"===this.schema.type)self.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],self.enum_options=["1","0"],self.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(i=0;i<this.schema.enumSource.length;i++)"string"==typeof this.schema.enumSource[i]?this.enumSource[i]={source:this.schema.enumSource[i]}:Array.isArray(this.schema.enumSource[i])?this.enumSource[i]=this.schema.enumSource[i]:this.enumSource[i]=$extend({},this.schema.enumSource[i]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(i=0;i<this.enumSource.length;i++)this.enumSource[i].value&&(this.enumSource[i].value=this.jsoneditor.compileTemplate(this.enumSource[i].value,this.template_engine)),this.enumSource[i].title&&(this.enumSource[i].title=this.jsoneditor.compileTemplate(this.enumSource[i].title,this.template_engine)),this.enumSource[i].filter&&(this.enumSource[i].filter=this.jsoneditor.compileTemplate(this.enumSource[i].filter,this.template_engine))}},build:function(){var self=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var val=this.input.value;-1===this.enum_options.indexOf(val)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(val)],this.onChange(!0)},setupSelectize:function(){var self=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var options=$extend({},JSONEditor.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(options=$extend(options,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize($extend(options,{create:!0,onChange:function(){self.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var vars,j;if(this.enumSource){vars=this.getWatchedFieldValues();for(var select_options=[],select_titles=[],i=0;i<this.enumSource.length;i++)if(Array.isArray(this.enumSource[i]))select_options=select_options.concat(this.enumSource[i]),select_titles=select_titles.concat(this.enumSource[i]);else if(vars[this.enumSource[i].source]){var items=vars[this.enumSource[i].source];if(this.enumSource[i].slice&&(items=Array.prototype.slice.apply(items,this.enumSource[i].slice)),this.enumSource[i].filter){var new_items=[];for(j=0;j<items.length;j++)this.enumSource[i].filter({i:j,item:items[j]})&&new_items.push(items[j]);items=new_items}var item_titles=[],item_values=[];for(j=0;j<items.length;j++){var item=items[j];this.enumSource[i].value?item_values[j]=this.enumSource[i].value({i:j,item:item}):item_values[j]=items[j],this.enumSource[i].title?item_titles[j]=this.enumSource[i].title({i:j,item:item}):item_titles[j]=item_values[j]}select_options=select_options.concat(item_values),select_titles=select_titles.concat(item_titles)}var prev_value=this.value;this.theme.setSelectOptions(this.input,select_options,select_titles),this.enum_options=select_options,this.enum_display=select_titles,this.enum_values=select_options,-1!==select_options.indexOf(prev_value)?(this.input.value=prev_value,this.value=prev_value):(this.input.value=select_options[0],this.value=select_options[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(select_options):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(select_options){var selectized=this.selectize[0].selectize,self=this;selectized.off(),selectized.clearOptions();for(var n in select_options)selectized.addOption({value:select_options[n],text:select_options[n]});selectized.addItem(this.value),selectized.on("change",function(){self.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock()),this._super()},disable:function(){this.input.disabled=!0,
this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),JSONEditor.defaults.editors.multiselect=JSONEditor.AbstractEditor.extend({preBuild:function(){this._super();var i;this.select_options={},this.select_values={};var items_schema=this.jsoneditor.expandRefs(this.schema.items||{}),e=items_schema.enum||[],t=items_schema.options?items_schema.options.enum_titles||[]:[];for(this.option_keys=[],this.option_titles=[],i=0;i<e.length;i++)this.sanitize(e[i])===e[i]&&(this.option_keys.push(e[i]+""),this.option_titles.push((t[i]||e[i])+""),this.select_values[e[i]+""]=e[i])},build:function(){var i,self=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},i=0;i<this.option_keys.length;i++){this.inputs[this.option_keys[i]]=this.theme.getCheckbox(),this.select_options[this.option_keys[i]]=this.inputs[this.option_keys[i]];var label=this.theme.getCheckboxLabel(this.option_titles[i]);this.controls[this.option_keys[i]]=this.theme.getFormControl(label,this.inputs[this.option_keys[i]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),i=0;i<this.option_keys.length;i++)this.select_options[this.option_keys[i]]=this.input.children[i];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation();var new_value=[];for(i=0;i<self.option_keys.length;i++)(self.select_options[self.option_keys[i]].selected||self.select_options[self.option_keys[i]].checked)&&new_value.push(self.select_values[self.option_keys[i]]);self.updateValue(new_value),self.onChange(!0)})},setValue:function(value,initial){var i;for(value=value||[],"object"!=typeof value?value=[value]:Array.isArray(value)||(value=[]),i=0;i<value.length;i++)"string"!=typeof value[i]&&(value[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==value.indexOf(i));this.updateValue(value),this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var options=window.jQuery.extend({},JSONEditor.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(options=$extend(options,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(options);var self=this;this.select2.on("select2-blur",function(){var val=self.select2.select2("val");self.value=val,self.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var longest_text=this.getTitle().length;for(var i in this.select_values)this.select_values.hasOwnProperty(i)&&(longest_text=Math.max(longest_text,(this.select_values[i]+"").length+4));return Math.min(12,Math.max(longest_text/7,2))},updateValue:function(value){for(var changed=!1,new_value=[],i=0;i<value.length;i++)if(this.select_options[value[i]+""]){var sanitized=this.sanitize(this.select_values[value[i]]);new_value.push(sanitized),sanitized!==value[i]&&(changed=!0)}else changed=!0;return this.value=new_value,this.select2&&this.select2.select2("val",this.value),changed},sanitize:function(value){return"number"===this.schema.items.type?1*value:"integer"===this.schema.items.type?Math.floor(1*value):""+value},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var i in this.inputs)this.inputs.hasOwnProperty(i)&&(this.inputs[i].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var i in this.inputs)this.inputs.hasOwnProperty(i)&&(this.inputs[i].disabled=!0);this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),JSONEditor.defaults.editors.base64=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var self=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length){var fr=new FileReader;fr.onload=function(evt){self.value=evt.target.result,self.refreshPreview(),self.onChange(!0),fr=null},fr.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var mime=this.value.match(/^data:([^;,]+)[;,]/);if(mime&&(mime=mime[1]),mime){if(this.preview.innerHTML="<strong>Type:</strong> "+mime+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===mime.substr(0,5)){this.preview.innerHTML+="<br>";var img=document.createElement("img");img.style.maxWidth="100%",img.style.maxHeight="100px",img.src=this.value,this.preview.appendChild(img)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(val){this.value!==val&&(this.value=val,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),JSONEditor.defaults.editors.upload=JSONEditor.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var self=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length){var fr=new FileReader;fr.onload=function(evt){self.preview_value=evt.target.result,self.refreshPreview(),self.onChange(!0),fr=null},fr.readAsDataURL(this.files[0])}})}var description=this.schema.description;description||(description=""),this.preview=this.theme.getFormInputDescription(description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var self=this,mime=this.preview_value.match(/^data:([^;,]+)[;,]/);mime&&(mime=mime[1]),mime||(mime="unknown");var file=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+mime+", <strong>Size:</strong> "+file.size+" bytes","image"===mime.substr(0,5)){this.preview.innerHTML+="<br>";var img=document.createElement("img");img.style.maxWidth="100%",img.style.maxHeight="100px",img.src=this.preview_value,this.preview.appendChild(img)}this.preview.innerHTML+="<br>";var uploadButton=this.getButton("Upload","upload","Upload");this.preview.appendChild(uploadButton),uploadButton.addEventListener("click",function(event){event.preventDefault(),uploadButton.setAttribute("disabled","disabled"),self.theme.removeInputError(self.uploader),self.theme.getProgressBar&&(self.progressBar=self.theme.getProgressBar(),self.preview.appendChild(self.progressBar)),self.jsoneditor.options.upload(self.path,file,{success:function(url){self.setValue(url),self.parent?self.parent.onChildEditorChange(self):self.jsoneditor.onChange(),self.progressBar&&self.preview.removeChild(self.progressBar),uploadButton.removeAttribute("disabled")},failure:function(error){self.theme.addInputError(self.uploader,error),self.progressBar&&self.preview.removeChild(self.progressBar),uploadButton.removeAttribute("disabled")},updateProgress:function(progress){self.progressBar&&(progress?self.theme.updateProgressBar(self.progressBar,progress):self.theme.updateProgressBarUnknown(self.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(val){this.value!==val&&(this.value=val,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),JSONEditor.defaults.editors.checkbox=JSONEditor.AbstractEditor.extend({setValue:function(value,initial){this.value=!!value,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var self=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),self.value=this.checked,self.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),JSONEditor.defaults.editors.arraySelectize=JSONEditor.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var group=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(group),this.container.appendChild(this.error_holder),window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var self=this;this.input.selectize.on("change",function(event){self.refreshValue(),self.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(hard){},setValue:function(value,initial){var self=this;value=value||[],Array.isArray(value)||(value=[value]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),value.forEach(function(item){self.input.selectize.addOption({text:item,value:item})}),this.input.selectize.setValue(value),this.refreshValue(initial)},refreshValue:function(force){this.value=this.input.selectize.getValue()},showValidationErrors:function(errors){var self=this,my_errors=[],other_errors=[];if($each(errors,function(i,error){error.path===self.path?my_errors.push(error):other_errors.push(error)}),this.error_holder)if(my_errors.length){this.error_holder.innerHTML="",this.error_holder.style.display="",$each(my_errors,function(i,error){self.error_holder.appendChild(self.theme.getErrorMessage(error.message))})}else this.error_holder.style.display="none"}});var matchKey=function(){var elem=document.documentElement;return elem.matches?"matches":elem.webkitMatchesSelector?"webkitMatchesSelector":elem.mozMatchesSelector?"mozMatchesSelector":elem.msMatchesSelector?"msMatchesSelector":elem.oMatchesSelector?"oMatchesSelector":void 0}();JSONEditor.AbstractTheme=Class.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var el=document.createElement("div");return el.style=el.style||{},el.style.cssFloat="right",el.style.marginLeft="10px",el},getModal:function(){var el=document.createElement("div");return el.style.backgroundColor="white",el.style.border="1px solid black",el.style.boxShadow="3px 3px black",el.style.position="absolute",el.style.zIndex="10",el.style.display="none",el},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var el=document.createElement("div");return el.className="row",el},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(el,size){},getLink:function(text){var el=document.createElement("a");return el.setAttribute("href","#"),el.appendChild(document.createTextNode(text)),el},disableHeader:function(header){header.style.color="#ccc"},disableLabel:function(label){label.style.color="#ccc"},enableHeader:function(header){header.style.color=""},enableLabel:function(label){label.style.color=""},getFormInputLabel:function(text){var el=document.createElement("label");return el.appendChild(document.createTextNode(text)),el},getCheckboxLabel:function(text){var el=this.getFormInputLabel(text);return el.style.fontWeight="normal",el},getHeader:function(text){var el=document.createElement("h3");return"string"==typeof text?el.textContent=text:el.appendChild(text),el},getCheckbox:function(){var el=this.getFormInputField("checkbox");return el.style.display="inline-block",el.style.width="auto",el},getMultiCheckboxHolder:function(controls,label,description){var el=document.createElement("div");label&&(label.style.display="block",el.appendChild(label));for(var i in controls)controls.hasOwnProperty(i)&&(controls[i].style.display="inline-block",controls[i].style.marginRight="20px",el.appendChild(controls[i]));return description&&el.appendChild(description),el},getSelectInput:function(options){var select=document.createElement("select");return options&&this.setSelectOptions(select,options),select},getSwitcher:function(options){var switcher=this.getSelectInput(options);return switcher.style.backgroundColor="transparent",switcher.style.display="inline-block",switcher.style.fontStyle="italic",switcher.style.fontWeight="normal",switcher.style.height="auto",switcher.style.marginBottom=0,switcher.style.marginLeft="5px",switcher.style.padding="0 0 0 3px",switcher.style.width="auto",switcher},getSwitcherOptions:function(switcher){return switcher.getElementsByTagName("option")},setSwitcherOptions:function(switcher,options,titles){this.setSelectOptions(switcher,options,titles)},setSelectOptions:function(select,options,titles){titles=titles||[],select.innerHTML="";for(var i=0;i<options.length;i++){var option=document.createElement("option");option.setAttribute("value",options[i]),option.textContent=titles[i]||options[i],select.appendChild(option)}},getTextareaInput:function(){var el=document.createElement("textarea");return el.style=el.style||{},el.style.width="100%",el.style.height="300px",el.style.boxSizing="border-box",el},getRangeInput:function(min,max,step){var el=this.getFormInputField("range");return el.setAttribute("min",min),el.setAttribute("max",max),el.setAttribute("step",step),el},getFormInputField:function(type){var el=document.createElement("input");return el.setAttribute("type",type),el},afterInputReady:function(input){},getFormControl:function(label,input,description){var el=document.createElement("div");return el.className="form-control",label&&el.appendChild(label),"checkbox"===input.type?label.insertBefore(input,label.firstChild):el.appendChild(input),description&&el.appendChild(description),el},getIndentedPanel:function(){var el=document.createElement("div");return el.style=el.style||{},el.style.paddingLeft="10px",el.style.marginLeft="10px",el.style.borderLeft="1px solid #ccc",el},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(text){var el=document.createElement("p");return el.innerHTML=text,el},getCheckboxDescription:function(text){return this.getDescription(text)},getFormInputDescription:function(text){return this.getDescription(text)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(text,icon,title){var el=document.createElement("button");return el.type="button",this.setButtonText(el,text,icon,title),el},setButtonText:function(button,text,icon,title){button.innerHTML="",icon&&(button.appendChild(icon),button.innerHTML+=" "),button.appendChild(document.createTextNode(text)),title&&button.setAttribute("title",title)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(text){var el=document.createElement("th");return el.textContent=text,el},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(text){var el=document.createElement("p");return el.style=el.style||{},el.style.color="red",el.appendChild(document.createTextNode(text)),el},addInputError:function(input,text){},removeInputError:function(input){},addTableRowError:function(row){},removeTableRowError:function(row){},getTabHolder:function(){var el=document.createElement("div");return el.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",el},applyStyles:function(el,styles){el.style=el.style||{};for(var i in styles)styles.hasOwnProperty(i)&&(el.style[i]=styles[i])},closest:function(elem,selector){for(;elem&&elem!==document;){if(!elem[matchKey])return!1;if(elem[matchKey](selector))return elem;elem=elem.parentNode}return!1},getTab:function(span){var el=document.createElement("div");return el.appendChild(span),el.style=el.style||{},this.applyStyles(el,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(tab){this.applyStyles(tab,{opacity:1,background:"white"})},markTabInactive:function(tab){this.applyStyles(tab,{opacity:.5,background:""})},addTab:function(holder,tab){holder.children[0].appendChild(tab)},getBlockLink:function(){var link=document.createElement("a");return link.style.display="block",link},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(holder,link,media){holder.appendChild(link),media.style.width="100%",holder.appendChild(media)},createImageLink:function(holder,link,image){holder.appendChild(link),link.appendChild(image)}}),JSONEditor.defaults.themes.bootstrap2=JSONEditor.AbstractTheme.extend({getRangeInput:function(min,max,step){return this._super(min,max,step)},getGridContainer:function(){var el=document.createElement("div");return el.className="container-fluid",el},getGridRow:function(){var el=document.createElement("div");return el.className="row-fluid",el},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="inline-block",el.style.fontWeight="bold",el},setGridColumnSize:function(el,size){el.className="span"+size},getSelectInput:function(options){var input=this._super(options);return input.style.width="auto",input.style.maxWidth="98%",input},getFormInputField:function(type){var el=this._super(type);return el.style.width="98%",el},afterInputReady:function(input){input.controlgroup||(input.controlgroup=this.closest(input,".control-group"),input.controls=this.closest(input,".controls"),this.closest(input,".compact")&&(input.controlgroup.className=input.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),input.controls.className=input.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),input.style.marginBottom=0))},getIndentedPanel:function(){var el=document.createElement("div");return el.className="well well-small",el.style.paddingBottom=0,el},getFormInputDescription:function(text){var el=document.createElement("p");return el.className="help-inline",el.textContent=text,el},getFormControl:function(label,input,description){var ret=document.createElement("div");ret.className="control-group";var controls=document.createElement("div");return controls.className="controls",label&&"checkbox"===input.getAttribute("type")?(ret.appendChild(controls),label.className+=" checkbox",label.appendChild(input),controls.appendChild(label),controls.style.height="30px"):(label&&(label.className+=" control-label",ret.appendChild(label)),controls.appendChild(input),ret.appendChild(controls)),description&&controls.appendChild(description),ret},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el},getButtonHolder:function(){var el=document.createElement("div");return el.className="btn-group",el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.className+=" btn btn-default",el},getTable:function(){var el=document.createElement("table");return el.className="table table-bordered",el.style.width="auto",el.style.maxWidth="none",el},addInputError:function(input,text){input.controlgroup&&input.controls&&(input.controlgroup.className+=" error",input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("p"),input.errmsg.className="help-block errormsg",input.controls.appendChild(input.errmsg)),input.errmsg.textContent=text)},removeInputError:function(input){input.errmsg&&(input.errmsg.style.display="none",input.controlgroup.className=input.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var el=document.createElement("div");return el.className="tabbable tabs-left",el.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",el},getTab:function(text){var el=document.createElement("li"),a=document.createElement("a");return a.setAttribute("href","#"),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.className="tab-pane active",el},markTabActive:function(tab){tab.className+=" active"},markTabInactive:function(tab){tab.className=tab.className.replace(/\s?active/g,"")},addTab:function(holder,tab){holder.children[0].appendChild(tab)},getProgressBar:function(){var container=document.createElement("div");container.className="progress";var bar=document.createElement("div");return bar.className="bar",bar.style.width="0%",container.appendChild(bar),container},updateProgressBar:function(progressBar,progress){progressBar&&(progressBar.firstChild.style.width=progress+"%")},updateProgressBarUnknown:function(progressBar){progressBar&&(progressBar.className="progress progress-striped active",progressBar.firstChild.style.width="100%")}}),JSONEditor.defaults.themes.bootstrap3=JSONEditor.AbstractTheme.extend({getSelectInput:function(options){var el=this._super(options);return el.className+="form-control",el},setGridColumnSize:function(el,size){el.className="col-md-"+size},afterInputReady:function(input){input.controlgroup||(input.controlgroup=this.closest(input,".form-group"),this.closest(input,".compact")&&(input.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var el=document.createElement("textarea");return el.className="form-control",el},getRangeInput:function(min,max,step){return this._super(min,max,step)},getFormInputField:function(type){var el=this._super(type);return"checkbox"!==type&&(el.className+="form-control"),el},getFormControl:function(label,input,description){var group=document.createElement("div");return label&&"checkbox"===input.type?(group.className+=" checkbox",label.appendChild(input),label.style.fontSize="14px",group.style.marginTop="0",group.appendChild(label),input.style.position="relative",input.style.cssFloat="left"):(group.className+=" form-group",label&&(label.className+=" control-label",group.appendChild(label)),group.appendChild(input)),description&&group.appendChild(description),group},getIndentedPanel:function(){var el=document.createElement("div");return el.className="well well-sm",el.style.paddingBottom=0,el},getFormInputDescription:function(text){var el=document.createElement("p");return el.className="help-block",el.innerHTML=text,el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el},getButtonHolder:function(){var el=document.createElement("div");return el.className="btn-group",el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.className+="btn btn-default",el},getTable:function(){var el=document.createElement("table");return el.className="table table-bordered",el.style.width="auto",el.style.maxWidth="none",el},addInputError:function(input,text){input.controlgroup&&(input.controlgroup.className+=" has-error",input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("p"),input.errmsg.className="help-block errormsg",input.controlgroup.appendChild(input.errmsg)),input.errmsg.textContent=text)},removeInputError:function(input){input.errmsg&&(input.errmsg.style.display="none",input.controlgroup.className=input.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var el=document.createElement("div");return el.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",el.className="rows",el},getTab:function(text){var el=document.createElement("a");return el.className="list-group-item",el.setAttribute("href","#"),el.appendChild(text),el},markTabActive:function(tab){tab.className+=" active"},markTabInactive:function(tab){tab.className=tab.className.replace(/\s?active/g,"")},getProgressBar:function(){var container=document.createElement("div");container.className="progress";var bar=document.createElement("div");return bar.className="progress-bar",bar.setAttribute("role","progressbar"),bar.setAttribute("aria-valuenow",0),bar.setAttribute("aria-valuemin",0),bar.setAttribute("aria-valuenax",100),bar.innerHTML="0%",container.appendChild(bar),container},updateProgressBar:function(progressBar,progress){if(progressBar){var bar=progressBar.firstChild,percentage=progress+"%";bar.setAttribute("aria-valuenow",progress),bar.style.width=percentage,bar.innerHTML=percentage}},updateProgressBarUnknown:function(progressBar){if(progressBar){var bar=progressBar.firstChild;progressBar.className="progress progress-striped active",bar.removeAttribute("aria-valuenow"),bar.style.width="100%",bar.innerHTML=""}}}),JSONEditor.defaults.themes.foundation=JSONEditor.AbstractTheme.extend({getChildEditorHolder:function(){var el=document.createElement("div");return el.style.marginBottom="15px",el},getSelectInput:function(options){var el=this._super(options);return el.style.minWidth="none",el.style.padding="5px",el.style.marginTop="3px",el},getSwitcher:function(options){var el=this._super(options);return el.style.paddingRight="8px",el},afterInputReady:function(input){this.closest(input,".compact")&&(input.style.marginBottom=0),input.group=this.closest(input,".form-control")},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="inline-block",el},getFormInputField:function(type){var el=this._super(type);return el.style.width="100%",el.style.marginBottom="checkbox"===type?"0":"12px",el},getFormInputDescription:function(text){var el=document.createElement("p");return el.textContent=text,el.style.marginTop="-10px",el.style.fontStyle="italic",el},getIndentedPanel:function(){var el=document.createElement("div");return el.className="panel",el.style.paddingBottom=0,el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.display="inline-block",el.style.marginLeft="10px",el.style.verticalAlign="middle",el},getButtonHolder:function(){var el=document.createElement("div");return el.className="button-group",el},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.className+=" small button",el},addInputError:function(input,text){input.group&&(input.group.className+=" error",input.errmsg?input.errmsg.style.display="":(input.insertAdjacentHTML("afterend",'<small class="error"></small>'),input.errmsg=input.parentNode.getElementsByClassName("error")[0]),input.errmsg.textContent=text)},removeInputError:function(input){input.errmsg&&(input.group.className=input.group.className.replace(/ error/g,""),input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("div");progressBar.className="progress";var meter=document.createElement("span");return meter.className="meter",meter.style.width="0%",progressBar.appendChild(meter),progressBar},updateProgressBar:function(progressBar,progress){
progressBar&&(progressBar.firstChild.style.width=progress+"%")},updateProgressBarUnknown:function(progressBar){progressBar&&(progressBar.firstChild.style.width="100%")}}),JSONEditor.defaults.themes.foundation3=JSONEditor.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var el=this._super();return el.style.fontSize=".6em",el},getFormInputLabel:function(text){var el=this._super(text);return el.style.fontWeight="bold",el},getTabHolder:function(){var el=document.createElement("div");return el.className="row",el.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",el},setGridColumnSize:function(el,size){var sizes=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];el.className="columns "+sizes[size]},getTab:function(text){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.className="content active",el.style.paddingLeft="5px",el},markTabActive:function(tab){tab.className+=" active"},markTabInactive:function(tab){tab.className=tab.className.replace(/\s*active/g,"")},addTab:function(holder,tab){holder.children[0].appendChild(tab)}}),JSONEditor.defaults.themes.foundation4=JSONEditor.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var el=this._super();return el.style.fontSize=".6em",el},setGridColumnSize:function(el,size){el.className="columns large-"+size},getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8rem",el},getFormInputLabel:function(text){var el=this._super(text);return el.style.fontWeight="bold",el}}),JSONEditor.defaults.themes.foundation5=JSONEditor.defaults.themes.foundation.extend({getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8rem",el},setGridColumnSize:function(el,size){el.className="columns medium-"+size},getButton:function(text,icon,title){var el=this._super(text,icon,title);return el.className=el.className.replace(/\s*small/g,"")+" tiny",el},getTabHolder:function(){var el=document.createElement("div");return el.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>",el},getTab:function(text){var el=document.createElement("dd"),a=document.createElement("a");return a.setAttribute("href","#"),a.appendChild(text),el.appendChild(a),el},getTabContentHolder:function(tab_holder){return tab_holder.children[1]},getTabContent:function(){var el=document.createElement("div");return el.className="content active",el.style.paddingLeft="5px",el},markTabActive:function(tab){tab.className+=" active"},markTabInactive:function(tab){tab.className=tab.className.replace(/\s*active/g,"")},addTab:function(holder,tab){holder.children[0].appendChild(tab)}}),JSONEditor.defaults.themes.foundation6=JSONEditor.defaults.themes.foundation5.extend({getIndentedPanel:function(){var el=document.createElement("div");return el.className="callout secondary",el},getButtonHolder:function(){var el=document.createElement("div");return el.className="button-group tiny",el.style.marginBottom=0,el},getFormInputLabel:function(text){var el=this._super(text);return el.style.display="block",el},getFormControl:function(label,input,description){var el=document.createElement("div");return el.className="form-control",label&&el.appendChild(label),"checkbox"===input.type?label.insertBefore(input,label.firstChild):label?label.appendChild(input):el.appendChild(input),description&&label.appendChild(description),el},addInputError:function(input,text){if(input.group){if(input.group.className+=" error",input.errmsg)input.errmsg.style.display="",input.className="";else{var errorEl=document.createElement("span");errorEl.className="form-error is-visible",input.group.getElementsByTagName("label")[0].appendChild(errorEl),input.className=input.className+" is-invalid-input",input.errmsg=errorEl}input.errmsg.textContent=text}},removeInputError:function(input){input.errmsg&&(input.className=input.className.replace(/ is-invalid-input/g,""),input.errmsg.parentNode&&input.errmsg.parentNode.removeChild(input.errmsg))}}),JSONEditor.defaults.themes.html=JSONEditor.AbstractTheme.extend({getFormInputLabel:function(text){var el=this._super(text);return el.style.display="block",el.style.marginBottom="3px",el.style.fontWeight="bold",el},getFormInputDescription:function(text){var el=this._super(text);return el.style.fontSize=".8em",el.style.margin=0,el.style.display="inline-block",el.style.fontStyle="italic",el},getIndentedPanel:function(){var el=this._super();return el.style.border="1px solid #ddd",el.style.padding="5px",el.style.margin="5px",el.style.borderRadius="3px",el},getChildEditorHolder:function(){var el=this._super();return el.style.marginBottom="8px",el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.display="inline-block",el.style.marginLeft="10px",el.style.fontSize=".8em",el.style.verticalAlign="middle",el},getTable:function(){var el=this._super();return el.style.borderBottom="1px solid #ccc",el.style.marginBottom="5px",el},addInputError:function(input,text){if(input.style.borderColor="red",input.errmsg)input.errmsg.style.display="block";else{var group=this.closest(input,".form-control");input.errmsg=document.createElement("div"),input.errmsg.setAttribute("class","errmsg"),input.errmsg.style=input.errmsg.style||{},input.errmsg.style.color="red",group.appendChild(input.errmsg)}input.errmsg.innerHTML="",input.errmsg.appendChild(document.createTextNode(text))},removeInputError:function(input){input.style.borderColor="",input.errmsg&&(input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("progress");return progressBar.setAttribute("max",100),progressBar.setAttribute("value",0),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&progressBar.setAttribute("value",progress)},updateProgressBarUnknown:function(progressBar){progressBar&&progressBar.removeAttribute("value")}}),JSONEditor.defaults.themes.jqueryui=JSONEditor.AbstractTheme.extend({getTable:function(){var el=this._super();return el.setAttribute("cellpadding",5),el.setAttribute("cellspacing",0),el},getTableHeaderCell:function(text){var el=this._super(text);return el.className="ui-state-active",el.style.fontWeight="bold",el},getTableCell:function(){var el=this._super();return el.className="ui-widget-content",el},getHeaderButtonHolder:function(){var el=this.getButtonHolder();return el.style.marginLeft="10px",el.style.fontSize=".6em",el.style.display="inline-block",el},getFormInputDescription:function(text){var el=this.getDescription(text);return el.style.marginLeft="10px",el.style.display="inline-block",el},getFormControl:function(label,input,description){var el=this._super(label,input,description);return"checkbox"===input.type?(el.style.lineHeight="25px",el.style.padding="3px 0"):el.style.padding="4px 0 8px 0",el},getDescription:function(text){var el=document.createElement("span");return el.style.fontSize=".8em",el.style.fontStyle="italic",el.textContent=text,el},getButtonHolder:function(){var el=document.createElement("div");return el.className="ui-buttonset",el.style.fontSize=".7em",el},getFormInputLabel:function(text){var el=document.createElement("label");return el.style.fontWeight="bold",el.style.display="block",el.textContent=text,el},getButton:function(text,icon,title){var button=document.createElement("button");button.className="ui-button ui-widget ui-state-default ui-corner-all",icon&&!text?(button.className+=" ui-button-icon-only",icon.className+=" ui-button-icon-primary ui-icon-primary",button.appendChild(icon)):icon?(button.className+=" ui-button-text-icon-primary",icon.className+=" ui-button-icon-primary ui-icon-primary",button.appendChild(icon)):button.className+=" ui-button-text-only";var el=document.createElement("span");return el.className="ui-button-text",el.textContent=text||title||".",button.appendChild(el),button.setAttribute("title",title),button},setButtonText:function(button,text,icon,title){button.innerHTML="",button.className="ui-button ui-widget ui-state-default ui-corner-all",icon&&!text?(button.className+=" ui-button-icon-only",icon.className+=" ui-button-icon-primary ui-icon-primary",button.appendChild(icon)):icon?(button.className+=" ui-button-text-icon-primary",icon.className+=" ui-button-icon-primary ui-icon-primary",button.appendChild(icon)):button.className+=" ui-button-text-only";var el=document.createElement("span");el.className="ui-button-text",el.textContent=text||title||".",button.appendChild(el),button.setAttribute("title",title)},getIndentedPanel:function(){var el=document.createElement("div");return el.className="ui-widget-content ui-corner-all",el.style.padding="1em 1.4em",el.style.marginBottom="20px",el},afterInputReady:function(input){input.controls||(input.controls=this.closest(input,".form-control"))},addInputError:function(input,text){input.controls&&(input.errmsg?input.errmsg.style.display="":(input.errmsg=document.createElement("div"),input.errmsg.className="ui-state-error",input.controls.appendChild(input.errmsg)),input.errmsg.textContent=text)},removeInputError:function(input){input.errmsg&&(input.errmsg.style.display="none")},markTabActive:function(tab){tab.className=tab.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(tab){tab.className=tab.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),JSONEditor.defaults.themes.barebones=JSONEditor.AbstractTheme.extend({getFormInputLabel:function(text){return this._super(text)},getFormInputDescription:function(text){return this._super(text)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(input,text){if(input.errmsg)input.errmsg.style.display="block";else{var group=this.closest(input,".form-control");input.errmsg=document.createElement("div"),input.errmsg.setAttribute("class","errmsg"),group.appendChild(input.errmsg)}input.errmsg.innerHTML="",input.errmsg.appendChild(document.createTextNode(text))},removeInputError:function(input){input.style.borderColor="",input.errmsg&&(input.errmsg.style.display="none")},getProgressBar:function(){var progressBar=document.createElement("progress");return progressBar.setAttribute("max",100),progressBar.setAttribute("value",0),progressBar},updateProgressBar:function(progressBar,progress){progressBar&&progressBar.setAttribute("value",progress)},updateProgressBarUnknown:function(progressBar){progressBar&&progressBar.removeAttribute("value")}}),JSONEditor.AbstractIconLib=Class.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(key){return this.mapping[key]?this.icon_prefix+this.mapping[key]:null},getIcon:function(key){var iconclass=this.getIconClass(key);if(!iconclass)return null;var i=document.createElement("i");return i.className=iconclass,i}}),JSONEditor.defaults.iconlibs.bootstrap2=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),JSONEditor.defaults.iconlibs.bootstrap3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),JSONEditor.defaults.iconlibs.fontawesome3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),JSONEditor.defaults.iconlibs.fontawesome4=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),JSONEditor.defaults.iconlibs.foundation2=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),JSONEditor.defaults.iconlibs.foundation3=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),JSONEditor.defaults.iconlibs.jqueryui=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),JSONEditor.defaults.templates.default=function(){return{compile:function(template){var matches=template.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),l=matches&&matches.length;if(!l)return function(){return template};for(var replacements=[],i=0;i<l;i++)!function(i){var func,p=matches[i].replace(/[{}]+/g,"").trim().split("."),n=p.length;if(n>1){var cur;func=function(vars){for(cur=vars,i=0;i<n&&(cur=cur[p[i]]);i++);return cur}}else p=p[0],func=function(vars){return vars[p]};replacements.push({s:matches[i],r:func})}(i);return function(vars){var r,ret=template+"";for(i=0;i<l;i++)r=replacements[i],ret=ret.replace(r.s,r.r(vars));return ret}}}},JSONEditor.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(template){var compiled=new window.EJS({text:template});return function(context){return compiled.render(context)}}}},JSONEditor.defaults.templates.handlebars=function(){return window.Handlebars},JSONEditor.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(template){var compiled=window.Hogan.compile(template);return function(context){return compiled.render(context)}}}},JSONEditor.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(template){return function(context){return window.Mark.up(template,context)}}}},JSONEditor.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(template){return function(view){return window.Mustache.render(template,view)}}}},JSONEditor.defaults.templates.swig=function(){return window.swig},JSONEditor.defaults.templates.underscore=function(){return!!window._&&{compile:function(template){return function(context){return window._.template(template,context)}}}},JSONEditor.defaults.theme="html",JSONEditor.defaults.template="default",JSONEditor.defaults.options={},JSONEditor.defaults.translate=function(key,variables){var lang=JSONEditor.defaults.languages[JSONEditor.defaults.language];if(!lang)throw"Unknown language "+JSONEditor.defaults.language;var string=lang[key]||JSONEditor.defaults.languages[JSONEditor.defaults.default_language][key];if(void 0===string)throw"Unknown translate string "+key;if(variables)for(var i=0;i<variables.length;i++)string=string.replace(new RegExp("\\{\\{"+i+"}}","g"),variables[i]);return string},JSONEditor.defaults.default_language="en",JSONEditor.defaults.language=JSONEditor.defaults.default_language,JSONEditor.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"},JSONEditor.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}},$each(JSONEditor.defaults.editors,function(i,editor){JSONEditor.defaults.editors[i].options=editor.options||{}}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"!=typeof schema.type)return"multiple"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(!schema.type&&schema.properties)return"object"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"==typeof schema.type)return schema.type}),JSONEditor.defaults.resolvers.unshift(function(schema){if("boolean"===schema.type)return"checkbox"===schema.format||schema.options&&schema.options.checkbox?"checkbox":JSONEditor.plugins.selectize.enable?"selectize":"select"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("any"===schema.type)return"multiple"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&schema.media&&"base64"===schema.media.binaryEncoding)return"base64"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("string"===schema.type&&"url"===schema.format&&schema.options&&!0===schema.options.upload&&window.FileReader)return"upload"}),JSONEditor.defaults.resolvers.unshift(function(schema){if("array"===schema.type&&"table"===schema.format)return"table"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.enumSource)return JSONEditor.plugins.selectize.enable?"selectize":"select"}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.enum){if("array"===schema.type||"object"===schema.type)return"enum";if("number"===schema.type||"integer"===schema.type||"string"===schema.type)return JSONEditor.plugins.selectize.enable?"selectize":"select"}}),JSONEditor.defaults.resolvers.unshift(function(schema){if("array"===schema.type&&schema.items&&!Array.isArray(schema.items)&&schema.uniqueItems&&["string","number","integer"].indexOf(schema.items.type)>=0){if(schema.items.enum)return"multiselect";if(JSONEditor.plugins.selectize.enable&&"string"===schema.items.type)return"arraySelectize"}}),JSONEditor.defaults.resolvers.unshift(function(schema){if(schema.oneOf||schema.anyOf)return"multiple"}),function(){if(window.jQuery||window.Zepto){var $=window.jQuery||window.Zepto;$.jsoneditor=JSONEditor.defaults,$.fn.jsoneditor=function(options){var self=this,editor=this.data("jsoneditor");if("value"===options){if(!editor)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return editor.getValue();editor.setValue(arguments[1])}else{if("validate"===options){if(!editor)throw"Must initialize jsoneditor before validating";return arguments.length>1?editor.validate(arguments[1]):editor.validate()}"destroy"===options?editor&&(editor.destroy(),this.data("jsoneditor",null)):(editor&&editor.destroy(),editor=new JSONEditor(this.get(0),options),this.data("jsoneditor",editor),editor.on("change",function(){self.trigger("change")}),editor.on("ready",function(){self.trigger("ready")}))}return this}}}(),window.JSONEditor=JSONEditor}(),function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.Handlebars=factory():root.Handlebars=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function create(){var hb=_create();return hb.compile=function(input,options){return _handlebarsCompilerCompiler.compile(input,options,hb)},hb.precompile=function(input,options){return _handlebarsCompilerCompiler.precompile(input,options,hb)},hb.AST=_handlebarsCompilerAst2.default,hb.Compiler=_handlebarsCompilerCompiler.Compiler,hb.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2.default,hb.Parser=_handlebarsCompilerBase.parser,hb.parse=_handlebarsCompilerBase.parse,hb}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _handlebarsRuntime=__webpack_require__(2),_handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime),_handlebarsCompilerAst=__webpack_require__(35),_handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst),_handlebarsCompilerBase=__webpack_require__(36),_handlebarsCompilerCompiler=__webpack_require__(41),_handlebarsCompilerJavascriptCompiler=__webpack_require__(42),_handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler),_handlebarsCompilerVisitor=__webpack_require__(39),_handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor),_handlebarsNoConflict=__webpack_require__(34),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),_create=_handlebarsRuntime2.default.create,inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.Visitor=_handlebarsCompilerVisitor2.default,inst.default=inst,exports.default=inst,module.exports=exports.default},function(module,exports){"use strict";exports.default=function(obj){return obj&&obj.__esModule?obj:{default:obj}},exports.__esModule=!0},function(module,exports,__webpack_require__){"use strict";function create(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=_handlebarsSafeString2.default,hb.Exception=_handlebarsException2.default,hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb}var _interopRequireWildcard=__webpack_require__(3).default,_interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _handlebarsBase=__webpack_require__(4),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=__webpack_require__(21),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=__webpack_require__(6),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=__webpack_require__(5),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=__webpack_require__(22),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=__webpack_require__(34),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.default=inst,exports.default=inst,module.exports=exports.default},function(module,exports){"use strict";exports.default=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj},exports.__esModule=!0},function(module,exports,__webpack_require__){"use strict";function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{},this.partials=partials||{},this.decorators=decorators||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=__webpack_require__(5),_exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception),_helpers=__webpack_require__(10),_decorators=__webpack_require__(18),_logger=__webpack_require__(20),_logger2=_interopRequireDefault(_logger);exports.VERSION="4.0.11";exports.COMPILER_REVISION=7;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2.default,log:_logger2.default.log,registerHelper:function(name,fn){if("[object Object]"===_utils.toString.call(name)){if(fn)throw new _exception2.default("Arg not supported with multiple helpers");_utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){if("[object Object]"===_utils.toString.call(name))_utils.extend(this.partials,name);else{if(void 0===partial)throw new _exception2.default('Attempting to register a partial called "'+name+'" as undefined');this.partials[name]=partial}},unregisterPartial:function(name){delete this.partials[name]},registerDecorator:function(name,fn){if("[object Object]"===_utils.toString.call(name)){if(fn)throw new _exception2.default("Arg not supported with multiple decorators");_utils.extend(this.decorators,name)}else this.decorators[name]=fn},unregisterDecorator:function(name){delete this.decorators[name]}};var log=_logger2.default.log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2.default},function(module,exports){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function indexOf(array,value){for(var i=0,len=array.length;i<len;i++)if(array[i]===value)return i;return-1}function escapeExpression(string){if("string"!=typeof string){if(string&&string.toHTML)return string.toHTML();if(null==string)return"";if(!string)return string+"";string=""+string}return possible.test(string)?string.replace(badChars,escapeChar):string}function isEmpty(value){return!value&&0!==value||!(!isArray(value)||0!==value.length)}function createFrame(object){var frame=extend({},object);return frame._parent=object,frame}function blockParams(params,ids){return params.path=ids,params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(exports.isFunction=isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return!(!value||"object"!=typeof value)&&"[object Array]"===toString.call(value)};exports.isArray=isArray},function(module,exports,__webpack_require__){"use strict";function Exception(message,node){var loc=node&&node.loc,line=void 0,column=void 0;loc&&(line=loc.start.line,column=loc.start.column,message+=" - "+line+":"+column);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{loc&&(this.lineNumber=line,_Object$defineProperty?Object.defineProperty(this,"column",{value:column,enumerable:!0}):this.column=column)}catch(nop){}}var _Object$defineProperty=__webpack_require__(7).default;exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports.default=Exception,module.exports=exports.default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(8),__esModule:!0}},function(module,exports,__webpack_require__){var $=__webpack_require__(9);module.exports=function(it,key,desc){return $.setDesc(it,key,desc)}},function(module,exports){var $Object=Object;module.exports={create:$Object.create,getProto:$Object.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:$Object.getOwnPropertyDescriptor,setDesc:$Object.defineProperty,setDescs:$Object.defineProperties,getKeys:$Object.keys,getNames:$Object.getOwnPropertyNames,getSymbols:$Object.getOwnPropertySymbols,each:[].forEach}},function(module,exports,__webpack_require__){"use strict";function registerDefaultHelpers(instance){_helpersBlockHelperMissing2.default(instance),_helpersEach2.default(instance),_helpersHelperMissing2.default(instance),_helpersIf2.default(instance),_helpersLog2.default(instance),_helpersLookup2.default(instance),_helpersWith2.default(instance)}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=__webpack_require__(11),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=__webpack_require__(12),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=__webpack_require__(13),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=__webpack_require__(14),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=__webpack_require__(15),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=__webpack_require__(16),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=__webpack_require__(17),_helpersWith2=_interopRequireDefault(_helpersWith)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(5);exports.default=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(!0===context)return fn(this);if(!1===context||null==context)return inverse(this);if(_utils.isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0
;var _utils=__webpack_require__(5),_exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception);exports.default=function(instance){instance.registerHelper("each",function(context,options){function execIteration(field,index,last){data&&(data.key=field,data.index=index,data.first=0===index,data.last=!!last,contextPath&&(data.contextPath=contextPath+field)),ret+=fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(!options)throw new _exception2.default("Must pass iterator to #each");var fn=options.fn,inverse=options.inverse,i=0,ret="",data=void 0,contextPath=void 0;if(options.data&&options.ids&&(contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),_utils.isFunction(context)&&(context=context.call(this)),options.data&&(data=_utils.createFrame(options.data)),context&&"object"==typeof context)if(_utils.isArray(context))for(var j=context.length;i<j;i++)i in context&&execIteration(i,i,i===context.length-1);else{var priorKey=void 0;for(var key in context)context.hasOwnProperty(key)&&(void 0!==priorKey&&execIteration(priorKey,i-1),priorKey=key,i++);void 0!==priorKey&&execIteration(priorKey,i-1,!0)}return 0===i&&(ret=inverse(this)),ret})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception);exports.default=function(instance){instance.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new _exception2.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(5);exports.default=function(instance){instance.registerHelper("if",function(conditional,options){return _utils.isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers.if.call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})},module.exports=exports.default},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(instance){instance.registerHelper("log",function(){for(var args=[void 0],options=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)args.push(arguments[i]);var level=1;null!=options.hash.level?level=options.hash.level:options.data&&null!=options.data.level&&(level=options.data.level),args[0]=level,instance.log.apply(instance,args)})},module.exports=exports.default},function(module,exports){"use strict";exports.__esModule=!0,exports.default=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(5);exports.default=function(instance){instance.registerHelper("with",function(context,options){_utils.isFunction(context)&&(context=context.call(this));var fn=options.fn;if(_utils.isEmpty(context))return options.inverse(this);var data=options.data;return options.data&&options.ids&&(data=_utils.createFrame(options.data),data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])),fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function registerDefaultDecorators(instance){_decoratorsInline2.default(instance)}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=__webpack_require__(19),_decoratorsInline2=_interopRequireDefault(_decoratorsInline)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(5);exports.default=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;return props.partials||(props.partials={},ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);return container.partials=original,ret}),props.partials[options.args[0]]=options.fn,ret})},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(5),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(level){if("string"==typeof level){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());level=levelMap>=0?levelMap:parseInt(level,10)}return level},log:function(level){if(level=logger.lookupLevel(level),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];console[method]||(method="log");for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)message[_key-1]=arguments[_key];console[method].apply(console,message)}}};exports.default=logger,module.exports=exports.default},function(module,exports){"use strict";function SafeString(string){this.string=string}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports.default=SafeString,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new _exception2.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){function invokePartialWrapper(partial,context,options){options.hash&&(context=Utils.extend({},context,options.hash),options.ids&&(options.ids[0]=!0)),partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(null==result&&env.compile&&(options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env),result=options.partials[options.name](context,options)),null!=result){if(options.indent){for(var lines=result.split("\n"),i=0,l=lines.length;i<l&&(lines[i]||i+1!==l);i++)lines[i]=options.indent+lines[i];result=lines.join("\n")}return result}throw new _exception2.default("The partial "+options.name+" could not be compiled when running in runtime-only mode")}function ret(context){function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths=void 0,blockParams=templateSpec.useBlockParams?[]:void 0;return templateSpec.useDepths&&(depths=options.depths?context!=options.depths[0]?[context].concat(options.depths):options.depths:[context]),(main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams))(context,options)}if(!env)throw new _exception2.default("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new _exception2.default("Unknown template object: "+typeof templateSpec);templateSpec.main.decorator=templateSpec.main_d,env.VM.checkRevision(templateSpec.compiler);var container={strict:function(obj,name){if(!(name in obj))throw new _exception2.default('"'+name+'" not defined in '+obj);return obj[name]},lookup:function(depths,name){for(var len=depths.length,i=0;i<len;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){var ret=templateSpec[i];return ret.decorator=templateSpec[i+"_d"],ret},programs:[],program:function(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths||blockParams||declaredBlockParams?programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths):programWrapper||(programWrapper=this.programs[i]=wrapProgram(this,i,fn)),programWrapper},data:function(value,depth){for(;value&&depth--;)value=value._parent;return value},merge:function(param,common){var obj=param||common;return param&&common&&param!==common&&(obj=Utils.extend({},common,param)),obj},nullContext:_Object$seal({}),noop:env.VM.noop,compilerInfo:templateSpec.compiler};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials,container.decorators=options.decorators):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)),(templateSpec.usePartial||templateSpec.useDecorators)&&(container.decorators=container.merge(options.decorators,env.decorators)))},ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams)throw new _exception2.default("must pass block params");if(templateSpec.useDepths&&!depths)throw new _exception2.default("must pass parent depths");return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)},ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],currentDepths=depths;return!depths||context==depths[0]||context===container.nullContext&&null===depths[0]||(currentDepths=[context].concat(depths)),fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}return prog=executeDecorators(fn,prog,container,depths,data,blockParams),prog.program=i,prog.depth=depths?depths.length:0,prog.blockParams=declaredBlockParams||0,prog}function resolvePartial(partial,context,options){return partial?partial.call||options.name||(options.name=partial,partial=options.partials[partial]):partial="@partial-block"===options.name?options.data["partial-block"]:options.partials[options.name],partial}function invokePartial(partial,context,options){var currentPartialBlock=options.data&&options.data["partial-block"];options.partial=!0,options.ids&&(options.data.contextPath=options.ids[0]||options.data.contextPath);var partialBlock=void 0;if(options.fn&&options.fn!==noop&&function(){options.data=_base.createFrame(options.data);var fn=options.fn;partialBlock=options.data["partial-block"]=function(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return options.data=_base.createFrame(options.data),options.data["partial-block"]=currentPartialBlock,fn(context,options)},fn.partials&&(options.partials=Utils.extend({},options.partials,fn.partials))}(),void 0===partial&&partialBlock&&(partial=partialBlock),void 0===partial)throw new _exception2.default("The partial "+options.name+" could not be found");if(partial instanceof Function)return partial(context,options)}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?_base.createFrame(data):{},data.root=context),data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths),Utils.extend(prog,props)}return prog}var _Object$seal=__webpack_require__(23).default,_interopRequireWildcard=__webpack_require__(3).default,_interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=__webpack_require__(5),Utils=_interopRequireWildcard(_utils),_exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception),_base=__webpack_require__(4)},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(24),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(25),module.exports=__webpack_require__(30).Object.seal},function(module,exports,__webpack_require__){var isObject=__webpack_require__(26);__webpack_require__(27)("seal",function($seal){return function(it){return $seal&&isObject(it)?$seal(it):it}})},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){var $export=__webpack_require__(28),core=__webpack_require__(30),fails=__webpack_require__(33);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var global=__webpack_require__(29),core=__webpack_require__(30),ctx=__webpack_require__(31),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;IS_GLOBAL&&(source=name);for(key in source)(own=!IS_FORCED&&target&&key in target)&&key in exports||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(param){return this instanceof C?new C(param):C(param)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.prototype||(exports.prototype={}))[key]=out))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,module.exports=$export},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports){var core=module.exports={version:"1.2.6"};"number"==typeof __e&&(__e=core)},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(32);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){(function(global){"use strict";exports.__esModule=!0,exports.default=function(Handlebars){var root=void 0!==global?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){return root.Handlebars===Handlebars&&(root.Handlebars=$Handlebars),Handlebars}},module.exports=exports.default}).call(exports,function(){return this}())},function(module,exports){"use strict";exports.__esModule=!0;var AST={helpers:{helperExpression:function(node){return"SubExpression"===node.type||("MustacheStatement"===node.type||"BlockStatement"===node.type)&&!!(node.params&&node.params.length||node.hash)},scopedId:function(path){return/^\.|this\b/.test(path.original)},simpleId:function(path){return 1===path.parts.length&&!AST.helpers.scopedId(path)&&!path.depth}}};exports.default=AST,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function parse(input,options){return"Program"===input.type?input:(_parser2.default.yy=yy,yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)},new _whitespaceControl2.default(options).accept(_parser2.default.parse(input)))}var _interopRequireDefault=__webpack_require__(1).default,_interopRequireWildcard=__webpack_require__(3).default;exports.__esModule=!0,exports.parse=parse;var _parser=__webpack_require__(37),_parser2=_interopRequireDefault(_parser),_whitespaceControl=__webpack_require__(38),_whitespaceControl2=_interopRequireDefault(_whitespaceControl),_helpers=__webpack_require__(40),Helpers=_interopRequireWildcard(_helpers),_utils=__webpack_require__(5);exports.parser=_parser2.default;var yy={};_utils.extend(yy,Helpers)},function(module,exports){"use strict";exports.__esModule=!0;var handlebars=function(){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 2:this.$=yy.prepareProgram($$[$0]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=$$[$0];break;case 9:this.$={type:"CommentStatement",value:yy.stripComment($$[$0]),strip:yy.stripFlags($$[$0],$$[$0]),loc:yy.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:$$[$0],value:$$[$0],loc:yy.locInfo(this._$)};break;case 11:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!1,this._$);break;case 14:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!0,this._$);break;case 15:this.$={open:$$[$0-5],path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:case 17:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 18:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 19:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],!1,this._$),program=yy.prepareProgram([inverse],$$[$0-1].loc);program.chained=!0,this.$={strip:$$[$0-2].strip,program:program,chain:!0};break;case 20:this.$=$$[$0];break;case 21:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 22:case 23:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 24:this.$={type:"PartialStatement",name:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],indent:"",strip:yy.stripFlags($$[$0-4],$$[$0]),loc:yy.locInfo(this._$)};break;case 25:this.$=yy.preparePartialBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 26:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],strip:yy.stripFlags($$[$0-4],$$[$0])};break;case 27:case 28:this.$=$$[$0];break;case 29:this.$={type:"SubExpression",path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],loc:yy.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:$$[$0],loc:yy.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:yy.id($$[$0-2]),value:$$[$0],loc:yy.locInfo(this._$)};break;case 32:this.$=yy.id($$[$0-1]);break;case 33:case 34:this.$=$$[$0];break;case 35:this.$={type:"StringLiteral",value:$$[$0],original:$$[$0],loc:yy.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number($$[$0]),original:Number($$[$0]),loc:yy.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===$$[$0],original:"true"===$$[$0],loc:yy.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:yy.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:yy.locInfo(this._$)};break;case 40:case 41:this.$=$$[$0];break;case 42:this.$=yy.preparePath(!0,$$[$0],this._$);break;case 43:this.$=yy.preparePath(!1,$$[$0],this._$);break;case 44:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 45:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 46:this.$=[];break;case 47:$$[$0-1].push($$[$0]);break;case 48:this.$=[$$[$0]];break;case 49:$$[$0-1].push($$[$0]);break;case 50:this.$=[];break;case 51:$$[$0-1].push($$[$0]);break;case 58:this.$=[];break;case 59:$$[$0-1].push($$[$0]);break;case 64:this.$=[];break;case 65:$$[$0-1].push($$[$0]);break;case 70:this.$=[];break;case 71:$$[$0-1].push($$[$0]);break;case 78:this.$=[];break;case 79:$$[$0-1].push($$[$0]);break;case 82:this.$=[];break;case 83:$$[$0-1].push($$[$0]);break;case 86:this.$=[];break;case 87:$$[$0-1].push($$[$0]);break;case 90:this.$=[];break;case 91:$$[$0-1].push($$[$0]);break;case 94:this.$=[];break;case 95:$$[$0-1].push($$[$0]);break;case 98:this.$=[$$[$0]];break;case 99:$$[$0-1].push($$[$0]);break;case 100:this.$=[$$[$0]];break;case 101:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],
81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(str,hash){throw new Error(str)},parse:function(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:(null!==symbol&&void 0!==symbol||(symbol=function(){var token;return token=self.lexer.lex()||1,"number"!=typeof token&&(token=self.symbols_[token]||token),token}()),action=table[state]&&table[state][symbol]),void 0===action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),void 0!==(r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack)))return r;len&&(stack=stack.slice(0,-1*len*2),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];return this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch,ch.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index,lines;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length&&(!(tempMatch=this._input.match(this.rules[rules[i]]))||match&&!(tempMatch[0].length>match[0].length)||(match=tempMatch,index=i,this.options.flex));i++);return match?(lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return void 0!==r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}switch($avoiding_name_collisions){case 0:if("\\\\"===yy_.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===yy_.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),yy_.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(yy_.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return yy_.yytext=yy_.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.default=handlebars,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function WhitespaceControl(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=options}function isPrevWhitespace(body,i,isRoot){void 0===i&&(i=body.length);var prev=body[i-1],sibling=body[i-2];return prev?"ContentStatement"===prev.type?(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original):void 0:isRoot}function isNextWhitespace(body,i,isRoot){void 0===i&&(i=-1);var next=body[i+1],sibling=body[i+2];return next?"ContentStatement"===next.type?(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original):void 0:isRoot}function omitRight(body,i,multiple){var current=body[null==i?0:i+1];if(current&&"ContentStatement"===current.type&&(multiple||!current.rightStripped)){var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,""),current.rightStripped=current.value!==original}}function omitLeft(body,i,multiple){var current=body[null==i?body.length-1:i-1];if(current&&"ContentStatement"===current.type&&(multiple||!current.leftStripped)){var original=current.value;return current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,""),current.leftStripped=current.value!==original,current.leftStripped}}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _visitor=__webpack_require__(39),_visitor2=_interopRequireDefault(_visitor);WhitespaceControl.prototype=new _visitor2.default,WhitespaceControl.prototype.Program=function(program){var doStandalone=!this.options.ignoreStandalone,isRoot=!this.isRootSeen;this.isRootSeen=!0;for(var body=program.body,i=0,l=body.length;i<l;i++){var current=body[i],strip=this.accept(current);if(strip){var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;strip.close&&omitRight(body,i,!0),strip.open&&omitLeft(body,i,!0),doStandalone&&inlineStandalone&&(omitRight(body,i),omitLeft(body,i)&&"PartialStatement"===current.type&&(current.indent=/([ \t]+$)/.exec(body[i-1].original)[1])),doStandalone&&openStandalone&&(omitRight((current.program||current.inverse).body),omitLeft(body,i)),doStandalone&&closeStandalone&&(omitRight(body,i),omitLeft((current.inverse||current.program).body))}}return program},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(block){this.accept(block.program),this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained)for(firstInverse=inverse.body[0].program;lastInverse.chained;)lastInverse=lastInverse.body[lastInverse.body.length-1].program;var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close&&omitRight(program.body,null,!0),inverse){var inverseStrip=block.inverseStrip;inverseStrip.open&&omitLeft(program.body,null,!0),inverseStrip.close&&omitRight(firstInverse.body,null,!0),block.closeStrip.open&&omitLeft(lastInverse.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)&&(omitLeft(program.body),omitRight(firstInverse.body))}else block.closeStrip.open&&omitLeft(program.body,null,!0);return strip},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:!0,open:strip.open,close:strip.close}},exports.default=WhitespaceControl,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function Visitor(){this.parents=[]}function visitSubExpression(mustache){this.acceptRequired(mustache,"path"),this.acceptArray(mustache.params),this.acceptKey(mustache,"hash")}function visitBlock(block){visitSubExpression.call(this,block),this.acceptKey(block,"program"),this.acceptKey(block,"inverse")}function visitPartial(partial){this.acceptRequired(partial,"name"),this.acceptArray(partial.params),this.acceptKey(partial,"hash")}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception);Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&!Visitor.prototype[value.type])throw new _exception2.default('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type);node[name]=value}},acceptRequired:function(node,name){if(this.acceptKey(node,name),!node[name])throw new _exception2.default(node.type+" requires "+name)},acceptArray:function(array){for(var i=0,l=array.length;i<l;i++)this.acceptKey(array,i),array[i]||(array.splice(i,1),i--,l--)},accept:function(object){if(object){if(!this[object.type])throw new _exception2.default("Unknown type: "+object.type,object);this.current&&this.parents.unshift(this.current),this.current=object;var ret=this[object.type](object);return this.current=this.parents.shift(),!this.mutating||ret?ret:!1!==ret?object:void 0}},Program:function(program){this.acceptArray(program.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(partial){visitPartial.call(this,partial),this.acceptKey(partial,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(hash){this.acceptArray(hash.pairs)},HashPair:function(pair){this.acceptRequired(pair,"value")}},exports.default=Visitor,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function validateClose(open,close){if(close=close.path?close.path.original:close,open.path.original!==close){var errorNode={loc:open.path.loc};throw new _exception2.default(open.path.original+" doesn't match "+close,errorNode)}}function SourceLocation(source,locInfo){this.source=source,this.start={line:locInfo.first_line,column:locInfo.first_column},this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){return/^\[.*\]$/.test(token)?token.substr(1,token.length-2):token}function stripFlags(open,close){return{open:"~"===open.charAt(2),close:"~"===close.charAt(close.length-3)}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,loc){loc=this.locInfo(loc);for(var original=data?"@":"",dig=[],depth=0,depthString="",i=0,l=parts.length;i<l;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;if(original+=(parts[i].separator||"")+part,isLiteral||".."!==part&&"."!==part&&"this"!==part)dig.push(part);else{if(dig.length>0)throw new _exception2.default("Invalid path: "+original,{loc:loc});".."===part&&(depth++,depthString+="../")}}return{type:"PathExpression",data:data,depth:depth,parts:dig,original:original,loc:loc}}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped="{"!==escapeFlag&&"&"!==escapeFlag;return{type:/\*/.test(open)?"Decorator":"MustacheStatement",path:path,params:params,hash:hash,escaped:escaped,strip:strip,loc:this.locInfo(locInfo)}}function prepareRawBlock(openRawBlock,contents,close,locInfo){validateClose(openRawBlock,close),locInfo=this.locInfo(locInfo);var program={type:"Program",body:contents,strip:{},loc:locInfo};return{type:"BlockStatement",path:openRawBlock.path,params:openRawBlock.params,hash:openRawBlock.hash,program:program,openStrip:{},inverseStrip:{},closeStrip:{},loc:locInfo}}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){close&&close.path&&validateClose(openBlock,close);var decorator=/\*/.test(openBlock.open);program.blockParams=openBlock.blockParams;var inverse=void 0,inverseStrip=void 0;if(inverseAndProgram){if(decorator)throw new _exception2.default("Unexpected inverse block on decorator",inverseAndProgram);inverseAndProgram.chain&&(inverseAndProgram.program.body[0].closeStrip=close.strip),inverseStrip=inverseAndProgram.strip,inverse=inverseAndProgram.program}return inverted&&(inverted=inverse,inverse=program,program=inverted),{type:decorator?"DecoratorBlock":"BlockStatement",path:openBlock.path,params:openBlock.params,hash:openBlock.hash,program:program,inverse:inverse,openStrip:openBlock.strip,inverseStrip:inverseStrip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}function prepareProgram(statements,loc){if(!loc&&statements.length){var firstLoc=statements[0].loc,lastLoc=statements[statements.length-1].loc;firstLoc&&lastLoc&&(loc={source:firstLoc.source,start:{line:firstLoc.start.line,column:firstLoc.start.column},end:{line:lastLoc.end.line,column:lastLoc.end.column}})}return{type:"Program",body:statements,strip:{},loc:loc}}function preparePartialBlock(open,program,close,locInfo){return validateClose(open,close),{type:"PartialBlockStatement",name:open.path,params:open.params,hash:open.hash,program:program,openStrip:open.strip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.SourceLocation=SourceLocation,exports.id=id,exports.stripFlags=stripFlags,exports.stripComment=stripComment,exports.preparePath=preparePath,exports.prepareMustache=prepareMustache,exports.prepareRawBlock=prepareRawBlock,exports.prepareBlock=prepareBlock,exports.prepareProgram=prepareProgram,exports.preparePartialBlock=preparePartialBlock;var _exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception)},function(module,exports,__webpack_require__){"use strict";function Compiler(){}function precompile(input,options,env){if(null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,void 0,!0);return env.template(templateSpec)}function ret(context,execOptions){return compiled||(compiled=compileInput()),compiled.call(this,context,execOptions)}if(void 0===options&&(options={}),null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);options=_utils.extend({},options),"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var compiled=void 0;return ret._setup=function(setupOptions){return compiled||(compiled=compileInput()),compiled._setup(setupOptions)},ret._child=function(i,data,blockParams,depths){return compiled||(compiled=compileInput()),compiled._child(i,data,blockParams,depths)},ret}function argEquals(a,b){if(a===b)return!0;if(_utils.isArray(a)&&_utils.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++)if(!argEquals(a[i],b[i]))return!1;return!0}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path={type:"PathExpression",data:!1,depth:0,parts:[literal.original+""],original:literal.original+"",loc:literal.loc}}}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0,exports.Compiler=Compiler,exports.precompile=precompile,exports.compile=compile;var _exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception),_utils=__webpack_require__(5),_ast=__webpack_require__(35),_ast2=_interopRequireDefault(_ast),slice=[].slice;Compiler.prototype={compiler:Compiler,equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args))return!1}len=this.children.length;for(var i=0;i<len;i++)if(!this.children[i].equals(other.children[i]))return!1;return!0},guid:0,compile:function(program,options){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=options,this.stringParams=options.stringParams,this.trackIds=options.trackIds,options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;if(options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},knownHelpers)for(var _name in knownHelpers)_name in knownHelpers&&(this.options.knownHelpers[_name]=knownHelpers[_name]);return this.accept(program)},compileProgram:function(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;return this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result,this.useDepths=this.useDepths||result.useDepths,guid},accept:function(node){if(!this[node.type])throw new _exception2.default("Unknown type: "+node.type,node);this.sourceNode.unshift(node);var ret=this[node.type](node);return this.sourceNode.shift(),ret},Program:function(program){this.options.blockParams.unshift(program.blockParams);for(var body=program.body,bodyLength=body.length,i=0;i<bodyLength;i++)this.accept(body[i]);return this.options.blockParams.shift(),this.isSimple=1===bodyLength,this.blockParams=program.blockParams?program.blockParams.length:0,this},BlockStatement:function(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program),inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);"helper"===type?this.helperSexpr(block,program,inverse):"simple"===type?(this.simpleSexpr(block),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue",block.path.original)):(this.ambiguousSexpr(block,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(decorator){var program=decorator.program&&this.compileProgram(decorator.program),params=this.setupFullMustacheParams(decorator,program,void 0),path=decorator.path;this.useDecorators=!0,this.opcode("registerDecorator",params.length,path.original)},PartialStatement:function(partial){this.usePartial=!0;var program=partial.program;program&&(program=this.compileProgram(partial.program));var params=partial.params;if(params.length>1)throw new _exception2.default("Unsupported number of partial arguments: "+params.length,partial);params.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):params.push({type:"PathExpression",parts:[],depth:0}));var partialName=partial.name.original,isDynamic="SubExpression"===partial.name.type;isDynamic&&this.accept(partial.name),this.setupFullMustacheParams(partial,program,void 0,!0);var indent=partial.indent||"";this.options.preventIndent&&indent&&(this.opcode("appendContent",indent),indent=""),this.opcode("invokePartial",isDynamic,partialName,indent),this.opcode("append")},PartialBlockStatement:function(partialBlock){this.PartialStatement(partialBlock)},MustacheStatement:function(mustache){this.SubExpression(mustache),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(decorator){this.DecoratorBlock(decorator)},ContentStatement:function(content){content.value&&this.opcode("appendContent",content.value)},CommentStatement:function(){},SubExpression:function(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);"simple"===type?this.simpleSexpr(sexpr):"helper"===type?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ambiguousSexpr:function(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=null!=program||null!=inverse;this.opcode("getContext",path.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),path.strict=!0,this.accept(path),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var path=sexpr.path;path.strict=!0,this.accept(path),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new _exception2.default("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr);path.strict=!0,path.falsy=!0,this.accept(path),this.opcode("invokeHelper",params.length,path.original,_ast2.default.helpers.simpleId(path))}},PathExpression:function(path){this.addDepth(path.depth),this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_ast2.default.helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);blockParamId?this.opcode("lookupBlockParam",blockParamId,path.parts):name?path.data?(this.options.data=!0,this.opcode("lookupData",path.depth,path.parts,path.strict)):this.opcode("lookupOnContext",path.parts,path.falsy,path.strict,scoped):this.opcode("pushContext")},StringLiteral:function(string){this.opcode("pushString",string.value)},NumberLiteral:function(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(hash){var pairs=hash.pairs,i=0,l=pairs.length;for(this.opcode("pushHash");i<l;i++)this.pushParam(pairs[i].value);for(;i--;)this.opcode("assignToHash",pairs[i].key);this.opcode("popHash")},opcode:function(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(depth){depth&&(this.useDepths=!0)},classifySexpr:function(sexpr){
var isSimple=_ast2.default.helpers.simpleId(sexpr.path),isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]),isHelper=!isBlockParam&&_ast2.default.helpers.helperExpression(sexpr),isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;options.knownHelpers[_name2]?isHelper=!0:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){for(var i=0,l=params.length;i<l;i++)this.pushParam(params[i])},pushParam:function(val){var value=null!=val.value?val.value:val.original||"";if(this.stringParams)value.replace&&(value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",value,val.type),"SubExpression"===val.type&&this.accept(val);else{if(this.trackIds){var blockParamIndex=void 0;if(!val.parts||_ast2.default.helpers.scopedId(val)||val.depth||(blockParamIndex=this.blockParamIndex(val.parts[0])),blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else value=val.original||value,value.replace&&(value=value.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",val.type,value)}this.accept(val)}},setupFullMustacheParams:function(sexpr,program,inverse,omitEmpty){var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.accept(sexpr.hash):this.opcode("emptyHash",omitEmpty),params},blockParamIndex:function(name){for(var depth=0,len=this.options.blockParams.length;depth<len;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_utils.indexOf(blockParams,name);if(blockParams&&param>=0)return[depth,param]}}}},function(module,exports,__webpack_require__){"use strict";function Literal(value){this.value=value}function JavaScriptCompiler(){}function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;for(requireTerminal&&len--;i<len;i++)stack=compiler.nameLookup(stack,parts[i],type);return requireTerminal?[compiler.aliasable("container.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]:stack}var _interopRequireDefault=__webpack_require__(1).default;exports.__esModule=!0;var _base=__webpack_require__(4),_exception=__webpack_require__(6),_exception2=_interopRequireDefault(_exception),_utils=__webpack_require__(5),_codeGen=__webpack_require__(43),_codeGen2=_interopRequireDefault(_codeGen);JavaScriptCompiler.prototype={nameLookup:function(parent,name){return JavaScriptCompiler.isValidJavaScriptVariableName(name)?[parent,".",name]:[parent,"[",JSON.stringify(name),"]"]},depthedLookup:function(name){return[this.aliasable("container.lookup"),'(depths, "',name,'")']},compilerInfo:function(){var revision=_base.COMPILER_REVISION;return[revision,_base.REVISION_CHANGES[revision]]},appendToBuffer:function(source,location,explicit){return _utils.isArray(source)||(source=[source]),source=this.source.wrap(source,location),this.environment.isSimple?["return ",source,";"]:explicit?["buffer += ",source,";"]:(source.appendToBuffer=!0,source)},initializeBuffer:function(){return this.quotedString("")},compile:function(environment,options,context,asObject){this.environment=environment,this.options=options,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!asObject,this.name=this.environment.name,this.isChild=!!context,this.context=context||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(environment,options),this.useDepths=this.useDepths||environment.useDepths||environment.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=void 0,firstLoc=void 0,i=void 0,l=void 0;for(i=0,l=opcodes.length;i<l;i++)opcode=opcodes[i],this.source.currentLocation=opcode.loc,firstLoc=firstLoc||opcode.loc,this[opcode.opcode].apply(this,opcode.args);if(this.source.currentLocation=firstLoc,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new _exception2.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),asObject?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var fn=this.createFunctionContext(asObject);if(this.isChild)return fn;var ret={compiler:this.compilerInfo(),main:fn};this.decorators&&(ret.main_d=this.decorators,ret.useDecorators=!0);var _context=this.context,programs=_context.programs,decorators=_context.decorators;for(i=0,l=programs.length;i<l;i++)programs[i]&&(ret[i]=programs[i],decorators[i]&&(ret[i+"_d"]=decorators[i],ret.useDecorators=!0));return this.environment.usePartial&&(ret.usePartial=!0),this.options.data&&(ret.useData=!0),this.useDepths&&(ret.useDepths=!0),this.useBlockParams&&(ret.useBlockParams=!0),this.options.compat&&(ret.compat=!0),asObject?ret.compilerOptions=this.options:(ret.compiler=JSON.stringify(ret.compiler),this.source.currentLocation={start:{line:1,column:0}},ret=this.objectLiteral(ret),options.srcName?(ret=ret.toStringWithSourceMap({file:options.destName}),ret.map=ret.map&&ret.map.toString()):ret=ret.toString()),ret},preamble:function(){this.lastContext=0,this.source=new _codeGen2.default(this.options.srcName),this.decorators=new _codeGen2.default(this.options.srcName)},createFunctionContext:function(asObject){var varDeclarations="",locals=this.stackVars.concat(this.registers.list);locals.length>0&&(varDeclarations+=", "+locals.join(", "));var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1&&(varDeclarations+=", alias"+ ++aliasCount+"="+alias,node.children[0]="alias"+aliasCount)}var params=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&params.push("blockParams"),this.useDepths&&params.push("depths");var source=this.mergeSource(varDeclarations);return asObject?(params.push(source),Function.apply(this,params)):this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])},mergeSource:function(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=void 0,sourceSeen=void 0,bufferStart=void 0,bufferEnd=void 0;return this.source.each(function(line){line.appendToBuffer?(bufferStart?line.prepend("  + "):bufferStart=line,bufferEnd=line):(bufferStart&&(sourceSeen?bufferStart.prepend("buffer += "):appendFirst=!0,bufferEnd.add(";"),bufferStart=bufferEnd=void 0),sourceSeen=!0,isSimple||(appendOnly=!1))}),appendOnly?bufferStart?(bufferStart.prepend("return "),bufferEnd.add(";")):sourceSeen||this.source.push('return "";'):(varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer()),bufferStart?(bufferStart.prepend("return buffer + "),bufferEnd.add(";")):this.source.push("return buffer;")),varDeclarations&&this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n")),this.source.merge()},blockValue:function(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName),this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,!0),this.flushInline();var current=this.topStack();params.splice(1,0,current),this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function(content){this.pendingContent?content=this.pendingContent+content:this.pendingLocation=this.source.currentLocation,this.pendingContent=content},append:function(){if(this.isInline())this.replaceStack(function(current){return[" != null ? ",current,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(depth){this.lastContext=depth},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(parts,falsy,strict,scoped){var i=0;scoped||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(parts[i++])),this.resolvePath("context",parts,i,falsy,strict)},lookupBlockParam:function(blockParamId,parts){this.useBlockParams=!0,this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]),this.resolvePath("context",parts,1)},lookupData:function(depth,parts,strict){depth?this.pushStackLiteral("container.data(data, "+depth+")"):this.pushStackLiteral("data"),this.resolvePath("data",parts,0,!0,strict)},resolvePath:function(type,parts,i,falsy,strict){var _this=this;if(this.options.strict||this.options.assumeObjects)return void this.push(strictLookup(this.options.strict&&strict,this,parts,type));for(var len=parts.length;i<len;i++)this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);return falsy?[" && ",lookup]:[" != null ? ",lookup," : ",current]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(string,type){this.pushContext(),this.pushString(type),"SubExpression"!==type&&("string"==typeof string?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(omitEmpty){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(hash.ids)),this.stringParams&&(this.push(this.objectLiteral(hash.contexts)),this.push(this.objectLiteral(hash.types))),this.push(this.objectLiteral(hash.values))},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){null!=guid?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},registerDecorator:function(paramSize,name){var foundDecorator=this.nameLookup("decorators",name,"decorator"),options=this.setupHelperArgs(name,paramSize);this.decorators.push(["fn = ",this.decorators.functionCall(foundDecorator,"",["fn","props","container",options])," || fn;"])},invokeHelper:function(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"",lookup=["("].concat(simple,nonHelper);this.options.strict||lookup.push(" || ",this.aliasable("helpers.helperMissing")),lookup.push(")"),this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),lookup=["(","(helper = ",helperName," || ",nonHelper,")"];this.options.strict||(lookup[0]="(helper = ",lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params);isDynamic&&(name=this.popStack(),delete options.name),indent&&(options.indent=JSON.stringify(indent)),options.helpers="helpers",options.partials="partials",options.decorators="container.decorators",isDynamic?params.unshift(name):params.unshift(this.nameLookup("partials",name,"partial")),this.options.compat&&(options.depths="depths"),options=this.objectLiteral(options),params.push(options),this.push(this.source.functionCall("container.invokePartial","",params))},assignToHash:function(key){var value=this.popStack(),context=void 0,type=void 0,id=void 0;this.trackIds&&(id=this.popStack()),this.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&(hash.contexts[key]=context),type&&(hash.types[key]=type),id&&(hash.ids[key]=id),hash.values[key]=value},pushId:function(type,name,child){"BlockParam"===type?this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):"")):"PathExpression"===type?this.pushString(name):"SubExpression"===type?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){for(var children=environment.children,child=void 0,compiler=void 0,i=0,l=children.length;i<l;i++){child=children[i],compiler=new this.compiler;var existing=this.matchExistingProgram(child);if(null==existing){this.context.programs.push("");var index=this.context.programs.length;child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile),this.context.decorators[index]=compiler.decorators,this.context.environments[index]=child,this.useDepths=this.useDepths||compiler.useDepths,this.useBlockParams=this.useBlockParams||compiler.useBlockParams,child.useDepths=this.useDepths,child.useBlockParams=this.useBlockParams}else child.index=existing.index,child.name="program"+existing.index,this.useDepths=this.useDepths||existing.useDepths,this.useBlockParams=this.useBlockParams||existing.useBlockParams}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return environment}},programExpression:function(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];return(this.useBlockParams||this.useDepths)&&programParams.push("blockParams"),this.useDepths&&programParams.push("depths"),"container.program("+programParams.join(", ")+")"},useRegister:function(name){this.registers[name]||(this.registers[name]=!0,this.registers.list.push(name))},push:function(expr){return expr instanceof Literal||(expr=this.source.wrap(expr)),this.inlineStack.push(expr),expr},pushStackLiteral:function(item){this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),source&&this.source.push(source)},replaceStack:function(callback){var prefix=["("],stack=void 0,createdStack=void 0,usedLiteral=void 0;if(!this.isInline())throw new _exception2.default("replaceStack on non-inline");var top=this.popStack(!0);if(top instanceof Literal)stack=[top.value],prefix=["(",stack],usedLiteral=!0;else{createdStack=!0;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"],stack=this.topStack()}var item=callback.call(this,stack);usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push(prefix.concat(item,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal)this.compileStack.push(entry);else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]),this.compileStack.push(stack)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new _exception2.default("Invalid stack pop");this.stackSlot--}return item},topStack:function(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return item instanceof Literal?item.value:item},contextName:function(context){return this.useDepths&&context?"depths["+context+"]":"depth"+context},quotedString:function(str){return this.source.quotedString(str)},objectLiteral:function(obj){return this.source.objectLiteral(obj)},aliasable:function(name){var ret=this.aliases[name];return ret?(ret.referenceCount++,ret):(ret=this.aliases[name]=this.source.wrap(name),ret.aliasable=!0,ret.referenceCount=1,ret)},setupHelper:function(paramSize,name,blockHelper){var params=[];return{params:params,paramsInit:this.setupHelperArgs(name,paramSize,params,blockHelper),name:this.nameLookup("helpers",name,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(params)}},setupParams:function(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],objectArgs=!params,param=void 0;objectArgs&&(params=[]),options.name=this.quotedString(helper),options.hash=this.popStack(),this.trackIds&&(options.hashIds=this.popStack()),this.stringParams&&(options.hashTypes=this.popStack(),options.hashContexts=this.popStack());var inverse=this.popStack(),program=this.popStack();(program||inverse)&&(options.fn=program||"container.noop",options.inverse=inverse||"container.noop");for(var i=paramSize;i--;)param=this.popStack(),params[i]=param,this.trackIds&&(ids[i]=this.popStack()),this.stringParams&&(types[i]=this.popStack(),contexts[i]=this.popStack());return objectArgs&&(options.args=this.source.generateArray(params)),this.trackIds&&(options.ids=this.source.generateArray(ids)),this.stringParams&&(options.types=this.source.generateArray(types),options.contexts=this.source.generateArray(contexts)),this.options.data&&(options.data="data"),this.useBlockParams&&(options.blockParams="blockParams"),options},setupHelperArgs:function(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params);return options=this.objectLiteral(options),useRegister?(this.useRegister("options"),params.push("options"),["options=",options]):params?(params.push(options),""):options}},function(){for(var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={},i=0,l=reservedWords.length;i<l;i++)compilerWords[reservedWords[i]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)},exports.default=JavaScriptCompiler,module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";function castChunk(chunk,codeGen,loc){if(_utils.isArray(chunk)){for(var ret=[],i=0,len=chunk.length;i<len;i++)ret.push(codeGen.wrap(chunk[i],loc));return ret}return"boolean"==typeof chunk||"number"==typeof chunk?chunk+"":chunk}function CodeGen(srcFile){this.srcFile=srcFile,this.source=[]}exports.__esModule=!0;var _utils=__webpack_require__(5),SourceNode=void 0;try{}catch(err){}SourceNode||(SourceNode=function(line,column,srcFile,chunks){this.src="",chunks&&this.add(chunks)},SourceNode.prototype={add:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src+=chunks},prepend:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src=chunks+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(source,loc){this.source.unshift(this.wrap(source,loc))},push:function(source,loc){this.source.push(this.wrap(source,loc))},merge:function(){var source=this.empty();return this.each(function(line){source.add(["  ",line,"\n"])}),source},each:function(iter){for(var i=0,len=this.source.length;i<len;i++)iter(this.source[i])},empty:function(){var loc=this.currentLocation||{start:{}};return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function(chunk){var loc=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return chunk instanceof SourceNode?chunk:(chunk=castChunk(chunk,this,loc),new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk))},functionCall:function(fn,type,params){return params=this.generateList(params),this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(obj){var pairs=[];for(var key in obj)if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);"undefined"!==value&&pairs.push([this.quotedString(key),":",value])}var ret=this.generateList(pairs);return ret.prepend("{"),ret.add("}"),ret},generateList:function(entries){for(var ret=this.empty(),i=0,len=entries.length;i<len;i++)i&&ret.add(","),ret.add(castChunk(entries[i],this));return ret},generateArray:function(entries){var ret=this.generateList(entries);return ret.prepend("["),ret.add("]"),ret}},exports.default=CodeGen,module.exports=exports.default}])});var vCodeCompiler={};Handlebars.registerHelper("ifcond",function(v1,operator,v2,options){switch(operator){case"==":return v1==v2?options.fn(this):options.inverse(this);case"===":return v1===v2?options.fn(this):options.inverse(this);case"!=":return v1!=v2?options.fn(this):options.inverse(this);case"!==":return v1!==v2?options.fn(this):options.inverse(this);case"<":return v1<v2?options.fn(this):options.inverse(this);case"<=":return v1<=v2?options.fn(this):options.inverse(this);case">":return v1>v2?options.fn(this):options.inverse(this);case">=":return v1>=v2?options.fn(this):options.inverse(this);case"&&":return v1&&v2?options.fn(this):options.inverse(this);case"||":return v1||v2?options.fn(this):options.inverse(this);default:return options.inverse(this)}}),Handlebars.registerHelper("bold",function(options){var ret="";return ret+='<div class="mybold">',ret+=options.fn(this),ret+="</div>",new Handlebars.SafeString(ret)}),Handlebars.registerHelper("listhtml",function(context,options){for(var ret="<ul>",i=0,j=context.length;i<j;i++)ret=ret+"<li>"+options.fn(context[i])+"</li>";return ret+"</ul>"}),Handlebars.registerHelper("eachparam",function(context,pClassname,options){var vText=context.map(function(item){return""+options.fn(item)}).join("\n");for(var varID in options.hash)options.hash.hasOwnProperty(varID)&&(console.log("eachparam options.hash['"+varID+"']='"+options.hash[varID]+"'"),vText=vText.replace(new RegExp("{{"+varID+"}}","g"),options.hash[varID]));return vText}),Handlebars.registerHelper("foreach",function(pArray,pData,options){for(var item,ret="",i=0;i<pArray.length;i++)item=clone_json(pArray[i]),item.data=pData,ret+=options.fn(item);return ret}),Handlebars.registerHelper("listhtmlattr",function(context,options){return"<ul "+Object.keys(options.hash).map(function(key){return key+'="'+options.hash[key]+'"'}).join(" ")+">"+context.map(function(item){return"<li>"+options.fn(item)+"</li>"}).join("\n")+"</ul>"}),Handlebars.registerHelper("indent",function(pText,pIndent){var vText=pText||"ERROR: undefined pText in helper-indent ",vIndent="        ";"string"==typeof pIndent?(console.log("CALL: helper-indent: pIndent is of type 'String'"),vIndent=pIndent):pIndent.hasOwnProperty("hash")?pIndent.hash.hasOwnProperty("indent")?vIndent=pIndent.hash.indent:console.log("ERROR: helper-indent: pIndent.hash 'indent' property undefined - use default indent"):console.log("ERROR: helper-indent: pIndent undefined - use default indent");return console.log("indent-helper: vIndent='"+vIndent+"'"),vText&&""!=vText&&(vText=vText.replace(/\n/g,"\n"+vIndent)),new Handlebars.SafeString(vIndent+vText)}),Handlebars.registerHelper("codeindent",function(pContext,options){var vIndent="",vText="";return options?(options.hash.hasOwnProperty("indent")&&(vIndent=options.hash.indent),vText=options.fn(pContext)):console.log("options in helper 'commentindent' undefined"),pContext&&(vText=pContext),""!=vText&&(vText=vText.replace(/\n/g,"\n"+vIndent+"  ")),vIndent+"  "+vText+"\n"}),Handlebars.registerHelper("lowercase",function(pString){var vString=pString.toLowerCase();return new Handlebars.SafeString(vString)}),Handlebars.registerHelper("requirelibs",function(pArray,options){for(var ret="",i=0;i<pArray.length;i++)vFile=pArray[i],ret+=options.fn(pArray[i]);return console.log("Require List:\n"+ret),ret}),Handlebars.registerHelper("requireclass",function(pData,pSettings,options){function addlib_check(pCheckTitle,pLib){console.log("("+pCheckTitle+") addlib_check('"+pLib+"')"),""!=pLib&&(console.log("Base Class '"+pLib+"' index="+value_in_array(pLib,pSettings.baseclasslist)),value_in_array(pLib,pSettings.baseclasslist)>=0||pLib==pData.superclassname?console.log("("+pCheckTitle+") Library '"+pLib+"' is a Base Class - no required"):(console.log("Local Class '"+pLib+"' index="+value_in_array(pLib,pSettings.localclasslist)),value_in_array(pLib,pSettings.localclasslist)>=0?(vRequire[pLib]=vRequirePath+name2filename(pLib),console.log("("+pCheckTitle+") Library '"+pLib+"' is a Local Class - require('"+vRequire[pLib]+"')")):(vRequire[pLib]=name2filename(pLib),console.log("("+pCheckTitle+") Library '"+pLib+"' is a Remote Class - require('"+vRequire[pLib]+"')"))))}var vPars,vRequirePath=pData.reposinfo.require_path||"./libs/",ret="",vRequire={};console.log("Call Helper: requireclasslist - superclass='"+pData.superclassname+"' require_path='"+vRequirePath+"'");for(var i=0;i<pData.attributes.length;i++)addlib_check("Attribute",pData.attributes[i].class);for(i=0;i<pData.methods.length;i++){addlib_check("Method "+pData.methods[i].name+"() Return",pData.methods[i].return),vPars=pData.methods[i].parameter;for(var k=0;k<vPars.length;k++)addlib_check("Parameter "+pData.methods[i].name+"()",vPars[k].class)}for(var iLib in vRequire)vRequire.hasOwnProperty(iLib)&&(ret+=options.fn({variable:iLib,module:vRequire[iLib]}),"\n");return console.log("Require List:\n"+ret),ret}),Handlebars.registerHelper("removereturn",function(pString){var vString=pString.replace(/\n/g," - ");return new Handlebars.SafeString(vString)}),Handlebars.registerHelper("filename",function(pString){return name2filename(pString||"no_filename")}),Handlebars.registerHelper("paramcall",paramCallString),Handlebars.registerHelper("paramtype",paramTypeString),Handlebars.registerHelper("requireattribs",attribs4UMLString),Handlebars.registerHelper("attribs_uml",attribs4UMLString),Handlebars.registerHelper("methods_uml",methods4UMLString),Handlebars.registerHelper("parameterlist",parameterListString),LinkParam.prototype.init=function(pDoc){this.aDoc=pDoc,this.aLink=pDoc.location,this.aVars=this.parseURL(pDoc.location.search)},LinkParam.prototype.parseURL=function(pLink){var vTokens,vLink=pLink||"",vParams={},vRE=/[?&]?([^=]+)=([^&]*)/g;if(""!=vLink)for(vLink=vLink.split("+").join(" ");vTokens=vRE.exec(vLink);)vParams[this.decodeParam(vTokens[1])]=this.decodeParam(vTokens[2]),this.calcSize();else console.log("parseURL(pLink) - pLink contains no parameters");return vParams},LinkParam.prototype.getURL=function(pVarHash){var vParam="";return vParam=pVarHash?this.getParam4URL(pVarHash):this.getParam4URL(),this.getLink4URL()+vParam},LinkParam.prototype.setValue=function(pVar,pValue){this.aVars.hasOwnProperty(pVar)?console.log("Value of link parameter '"+pVar+"' changed"):(this.calcSize(),console.log("New  link parameter '"+pVar+"' created")),this.aVars[pVar]=pValue},LinkParam.prototype.getValue=function(pVar){var vRet="";return this.aVars.hasOwnProperty(pVar)?vRet=this.aVars[pVar]:console.log("ERROR: variable '"+pVar+"' does not exist in LinkParam"),vRet},LinkParam.prototype.deleteValue=function(pVar){var vRet=!1;return this.aVars.hasOwnProperty(pVar)&&(delete this.aVars[pVar],vRet=!0,this.calcSize()),vRet},LinkParam.prototype.getLink4URL=function(){return this.aLink},LinkParam.prototype.getParam4URL=function(){var vHash=this.aVars||{},vOut="",vSep="?";for(var iID in vHash)vHash.hasOwnProperty(iID)&&(vOut+=vSep+this.encodeParam(iID)+"="+this.encodeParam(vHash[iID]),vSep="&");return vOut},LinkParam.prototype.decodeParam=function(pParam){return pParam=pParam.replace(/\+/g," "),pParam=decodeURIComponent(pParam)},LinkParam.prototype.encodeParam=function(pParam){var vParam=encodeURIComponent(pParam);return vParam=vParam.replace(/'/g,"%27").replace(/"/g,"%22")},LinkParam.prototype.getTableHTML=function(){var vOut="",vHash=this.aVars;vOut+="<table border=1>",vOut+="<tr><td><b>Variable</b></td><td>Value</td></tr>";for(var iID in vHash)vHash.hasOwnProperty(iID)&&(vOut+="<tr>",vOut+="<td>",vOut+="<b>"+iID+"</b>",vOut+="</td>",vOut+="<td>",vOut+=this.encodeHTML(vHash[iID],!0),vOut+="</td>",vOut+="</tr>");return vOut+="</table>"},LinkParam.prototype.getEditTableHTML=function(pPrefixID){var vOut=(pPredixID,""),vHash=this.aVars;vOut+="<table border=1>";var vRows=1,vContent="";for(var iID in vHash)vHash.hasOwnProperty(iID)&&(vContent=this.encodeHTML(vHash[iID],!1),vRows=vHash[iID].split("\n").length,vRows>10&&(vRows=10),vOut+="<tr>",vOut+="<td>",vOut+="<b>"+iID+"</b>",vOut+="</td>",vOut+="<td>",vOut+="<textarea id='"+vPrefix+iID+"'' cols='90' rows='"+vRows+"''>",vOut+=vContent,vOut+="</textarea>",vOut+="</td>",vOut+="</tr>");return vOut+="</table>"},LinkParam.prototype.calcSize=function(){var vRet=0;if(this.aVars){var vHash=this.aVars;for(var key in vHash)vRet++}else console.log("ERROR: variable '"+pVar+"' does not exist in LinkParam");return vRet},LinkParam.prototype.encodeHTML=function(pValue,pWrapCode){var vValue=pValue||"";return""!=vValue&&(vValue=vValue.replace(/</g,"&lt;"),vValue=vValue.replace(/>/g,"&gt;"),vValue=vValue.replace(/&/g,"&amp;")),pWrapCode&&!0===pWrapCode&&(vValue="<pre><code>"+vValue+"</code></pre>"),vValue},LinkParam.prototype.exists=function(pVar){var vRet=!1;return pVar&&(vRet=this.aVars.hasOwnProperty(pVar)),vRet},LinkParam.prototype.param2DOM=function(pLinkID,pDOMID,pOutType){var vOutType=pOutType||"html";if(this.exists(pLinkID)){var vDOMID=pDOMID||pLinkID,vOutDOM=document.getElementById(vDOMID);vOutDOM?"html"==vOutType?vOutDOM.innerHTML=this.getValue(pLinkID):vOutDOM.value=this.getValue(pLinkID):console.log("DOM node ["+vDOMID+"] does not exist!")}else console.log("pLinkID does not exist in param2DOM-call")},JSONEditor.defaults.theme="bootstrap3",
JSONEditor.defaults.iconlib="fontawesome4",JSONEditor.plugins.ace.theme="xcode";